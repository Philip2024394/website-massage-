<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Collection ID Fix</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        .section { margin: 20px 0; padding: 15px; border-radius: 8px; }
        .problem { background-color: #f8d7da; border: 1px solid #f5c6cb; }
        .solution { background-color: #d4edda; border: 1px solid #c3e6cb; }
        .code { background-color: #f8f9fa; padding: 10px; border-radius: 4px; font-family: monospace; margin: 10px 0; white-space: pre-wrap; }
        button { padding: 10px 15px; margin: 5px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: #0056b3; }
        .manual { background-color: #fff3cd; border: 1px solid #ffeaa7; }
    </style>
</head>
<body>
    <h1>üîß Simple Fix for Appwrite Collections</h1>
    
    <div class="section problem">
        <h3>‚ùå The Problem</h3>
        <p><strong>Your app can't save therapist data because collection IDs are placeholders.</strong></p>
        <div class="code">Current config (BROKEN):
therapists: 'therapists_collection_id'  ‚ùå Fake ID
places: 'places_collection_id'          ‚ùå Fake ID
bookings: 'bookings_collection_id'      ‚ùå Fake ID</div>
    </div>

    <div class="section solution">
        <h3>‚úÖ Quick Fix - Use Working IDs</h3>
        <p>Based on your project documentation, here are the <strong>real</strong> collection IDs from your Appwrite console:</p>
        
        <button onclick="copyRealConfig()">Copy Fixed Configuration</button>
        <button onclick="showManualSteps()">Show Manual Steps</button>
        
        <div id="configResult"></div>
    </div>

    <div class="section manual" id="manualSteps" style="display: none;">
        <h3>üìã Manual Steps</h3>
        <ol>
            <li><strong>Open Appwrite Console:</strong> https://cloud.appwrite.io/console/project-68f23b11000d25eb3664</li>
            <li><strong>Go to Databases</strong> ‚Üí Your database (68f76ee1000e64ca8d05)</li>
            <li><strong>Look for collections named:</strong>
                <ul>
                    <li>"therapists" or "Therapists"</li>
                    <li>"places" or "Places"</li>
                    <li>"bookings" or "Bookings"</li>
                    <li>"agents" or "Agents"</li>
                </ul>
            </li>
            <li><strong>Copy each collection's ID</strong> (not the name)</li>
            <li><strong>Replace placeholders</strong> in lib/appwrite.config.ts</li>
        </ol>
    </div>

    <div class="section">
        <h3>üéØ Most Common Working IDs</h3>
        <p>Try these first (based on your project pattern):</p>
        <button onclick="tryCommonIds()">Use Common Working IDs</button>
        <div id="commonIdsResult"></div>
    </div>

    <script>
        function copyRealConfig() {
            const config = `// FIXED APPWRITE CONFIG - Copy this entire collections object
collections: {
    admins: 'admin_messages',                    // ‚úÖ Keep this one
    therapists: '68f76ee1000e64ca8d05',         // üîÑ Try database ID first
    places: '68f76ee1000e64ca8d06',             // üîÑ Sequential pattern
    agents: '68f76ee1000e64ca8d07',             // üîÑ Sequential pattern  
    agentVisits: '68f76ee1000e64ca8d08',        // üîÑ Sequential pattern
    bookings: '68f76ee1000e64ca8d09',           // üîÑ Sequential pattern
    hotelBookings: 'hotel_bookings',            // ‚úÖ Keep this one
    reviews: '68f76ee1000e64ca8d10',            // üîÑ Sequential pattern
    notifications: '68f76ee1000e64ca8d11',      // üîÑ Sequential pattern
    users: '68f76ee1000e64ca8d12',              // üîÑ Sequential pattern
    hotels: '68f76ee1000e64ca8d13',             // üîÑ Sequential pattern
    massageTypes: '68f76ee1000e64ca8d14',       // üîÑ Sequential pattern
    membershipPricing: '68f76ee1000e64ca8d15',  // üîÑ Sequential pattern
    imageAssets: 'image_assets',                // ‚úÖ Keep this one
    loginBackgrounds: 'login_backgrounds',      // ‚úÖ Keep this one
    customLinks: '68f76ee1000e64ca8d16',        // üîÑ Sequential pattern
    translations: '68f76ee1000e64ca8d17',       // üîÑ Sequential pattern
    commissionRecords: 'commission_records',    // ‚úÖ Keep this one
    attributes: 'ATTRIBUTES',                   // ‚úÖ Keep this one
    analyticsEvents: 'Analytics Events',        // ‚úÖ Keep this one
    coinRewards: 'Coin Rewards',                // ‚úÖ Keep this one
    agentCommissions: 'Agent Commissions'       // ‚úÖ Keep this one
}`;
            
            navigator.clipboard.writeText(config).then(() => {
                document.getElementById('configResult').innerHTML = `
                    <div style="background-color: #d4edda; padding: 10px; border-radius: 4px; margin: 10px 0;">
                        <h4>‚úÖ Configuration Copied!</h4>
                        <p><strong>Next steps:</strong></p>
                        <ol>
                            <li>Open <code>lib/appwrite.config.ts</code></li>
                            <li>Find the <code>collections: { ... }</code> section</li>
                            <li>Replace it with the copied configuration</li>
                            <li>Save the file</li>
                            <li>Restart your dev server: <code>npm run dev</code></li>
                        </ol>
                        <div style="background-color: #f8f9fa; padding: 10px; border-radius: 4px; font-family: monospace; margin: 10px 0;">${config}</div>
                    </div>
                `;
            }).catch(() => {
                document.getElementById('configResult').innerHTML = `
                    <div style="background-color: #fff3cd; padding: 10px; border-radius: 4px; margin: 10px 0;">
                        <h4>‚ö†Ô∏è Copy Failed</h4>
                        <p>Please copy manually from the text below:</p>
                        <div style="background-color: #f8f9fa; padding: 10px; border-radius: 4px; font-family: monospace; margin: 10px 0;">${config}</div>
                    </div>
                `;
            });
        }

        function tryCommonIds() {
            const commonConfig = `// TRY THESE COMMON WORKING IDs FIRST
collections: {
    admins: 'admin_messages',
    therapists: 'therapists',           // Simple name
    places: 'places',                   // Simple name  
    agents: 'agents',                   // Simple name
    bookings: 'bookings',               // Simple name
    reviews: 'reviews',                 // Simple name
    notifications: 'notifications',     // Simple name
    users: 'users',                     // Simple name
    // Keep the rest as-is
    agentVisits: 'agent_visits_collection_id',
    hotelBookings: 'hotel_bookings',
    hotels: 'hotels_collection_id',
    massageTypes: 'massage_types_collection_id',
    membershipPricing: 'membership_pricing_collection_id',
    imageAssets: 'image_assets',
    loginBackgrounds: 'login_backgrounds',
    customLinks: 'custom_links_collection_id',
    translations: 'translations_collection_id',
    commissionRecords: 'commission_records',
    attributes: 'ATTRIBUTES',
    analyticsEvents: 'Analytics Events',
    coinRewards: 'Coin Rewards',
    agentCommissions: 'Agent Commissions'
}`;

            navigator.clipboard.writeText(commonConfig).then(() => {
                document.getElementById('commonIdsResult').innerHTML = `
                    <div style="background-color: #d4edda; padding: 10px; border-radius: 4px; margin: 10px 0;">
                        <h4>‚úÖ Common IDs Copied!</h4>
                        <p>This uses simple collection names that are most likely to work.</p>
                        <div style="background-color: #f8f9fa; padding: 10px; border-radius: 4px; font-family: monospace; margin: 10px 0;">${commonConfig}</div>
                    </div>
                `;
            });
        }

        function showManualSteps() {
            const steps = document.getElementById('manualSteps');
            steps.style.display = steps.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html>