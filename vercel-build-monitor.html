<!DOCTYPE html>
<html>
<head>
    <title>Vercel Build Monitor</title>
    <style>
        body { font-family: monospace; background: #111; color: #0f0; padding: 20px; }
        .status { padding: 10px; margin: 10px 0; border-left: 4px solid #0f0; }
        .error { border-left-color: #f00; color: #f00; }
        .warning { border-left-color: #ff0; color: #ff0; }
        .success { border-left-color: #0f0; color: #0f0; }
        pre { background: #222; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>ğŸš€ Vercel Deployment Monitor</h1>
    <div id="status">Checking deployment status...</div>
    
    <h2>Latest Commit</h2>
    <div class="status success">
        <strong>Commit:</strong> db46ddd<br>
        <strong>Message:</strong> fix(build): robust directory copy for esbuild<br>
        <strong>Time:</strong> <span id="timestamp"></span>
    </div>
    
    <h2>Build Status</h2>
    <div id="build-status">
        <div class="status">â³ Deployment should be starting...</div>
        <div class="status">ğŸ” Monitoring: massagewebsiteindastreet-7xi4kxkgo.vercel.app</div>
    </div>
    
    <h2>Expected Results</h2>
    <div class="status">
        <strong>âœ… Success Case:</strong> React app loads with IndaStreet interface<br>
        <strong>âŒ Still Broken:</strong> Shows commit message or build errors<br>
        <strong>ğŸ”„ Next Step:</strong> Add Appwrite domains for API functionality
    </div>
    
    <h2>Live Site Check</h2>
    <button onclick="checkSite()">Check Live Site Now</button>
    <div id="site-check"></div>
    
    <script>
        document.getElementById('timestamp').textContent = new Date().toLocaleString();
        
        let checkCount = 0;
        function checkSite() {
            checkCount++;
            const url = 'https://massagewebsiteindastreet-7xi4kxkgo.vercel.app';
            const checkDiv = document.getElementById('site-check');
            
            checkDiv.innerHTML = `<div class="status">ğŸ” Check #${checkCount} - Loading ${url}...</div>`;
            
            fetch(url, { method: 'HEAD' })
                .then(response => {
                    if (response.ok) {
                        checkDiv.innerHTML += `<div class="status success">âœ… Site responded: ${response.status} ${response.statusText}</div>`;
                        checkDiv.innerHTML += `<div class="status">ğŸ”— <a href="${url}" target="_blank" style="color: #0f0;">Open Live Site</a></div>`;
                    } else {
                        checkDiv.innerHTML += `<div class="status error">âŒ Response: ${response.status} ${response.statusText}</div>`;
                    }
                })
                .catch(error => {
                    checkDiv.innerHTML += `<div class="status error">âŒ Error: ${error.message}</div>`;
                });
        }
        
        // Auto-check every 30 seconds
        setInterval(() => {
            if (checkCount < 10) { // Limit auto-checks
                checkSite();
            }
        }, 30000);
        
        // Initial check
        setTimeout(checkSite, 2000);
    </script>
</body>
</html>