<!DOCTYPE html>
<html>
<head>
    <title>Find Your Actual Collections</title>
    <script src="https://cdn.jsdelivr.net/npm/appwrite@13.0.0"></script>
    <style>
        body { font-family: monospace; padding: 20px; }
        .collection { margin: 10px 0; padding: 10px; border: 1px solid #ccc; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
        button { padding: 10px 20px; background: #4CAF50; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <h2>üîç Find Your 24 Appwrite Collections</h2>
    <p class="info">This will scan all your collections and show their names and sample data.</p>
    
    <button onclick="scanAllCollections()">Scan All 24 Collections</button>
    <div id="results"></div>

    <script>
        const { Client, Databases, ID, Query } = Appwrite;
        
        const client = new Client()
            .setEndpoint('https://syd.cloud.appwrite.io/v1')
            .setProject('68f23b11000d25eb3664');
            
        const databases = new Databases(client);
        const DATABASE_ID = '68f76ee1000e64ca8d05';
        
        // Try many possible collection names that could contain therapist/place data
        const possibleCollectionNames = [
            // Therapist variations
            'therapists', 'therapist', 'providers', 'masseurs', 'massage_therapists', 
            'therapist_profiles', 'service_providers', 'professionals', 'specialists',
            
            // Place variations  
            'places', 'locations', 'venues', 'spas', 'massage_places', 'centers',
            'establishments', 'shops', 'clinics', 'studios',
            
            // User variations
            'users', 'customers', 'clients', 'members', 'accounts',
            
            // Other common names
            'bookings', 'appointments', 'reservations', 'orders',
            'reviews', 'ratings', 'feedback', 'testimonials',
            'services', 'treatments', 'packages', 'offers',
            'admins', 'administrators', 'staff',
            'hotels', 'villas', 'resorts', 'accommodations',
            'agents', 'partners', 'affiliates',
            'notifications', 'messages', 'alerts',
            'analytics', 'stats', 'metrics',
            'translations', 'languages', 'i18n',
            'settings', 'config', 'preferences',
            'payments', 'transactions', 'billing',
            'discounts', 'coupons', 'promotions',
            'categories', 'types', 'tags',
            
            // Indonesian names
            'terapis', 'pijat', 'spa_tempat', 'pelanggan', 'pesanan',
            
            // Possible auto-generated names
            'collection1', 'collection2', 'main', 'primary', 'data',
            
            // Alternative formats
            'massage-therapists', 'massage_providers', 'service-providers',
            'massage-places', 'spa-locations', 'wellness-centers'
        ];
        
        async function scanAllCollections() {
            const results = document.getElementById('results');
            results.innerHTML = '<div class="info">üîç Scanning all possible collection names...</div>';
            
            let foundCollections = [];
            
            for (const collectionName of possibleCollectionNames) {
                try {
                    const docs = await databases.listDocuments(DATABASE_ID, collectionName, [
                        Query.limit(1) // Just get 1 document to see structure
                    ]);
                    
                    foundCollections.push({
                        name: collectionName,
                        total: docs.total,
                        sampleDoc: docs.documents[0] || null
                    });
                    
                } catch (error) {
                    // Collection doesn't exist, continue
                }
            }
            
            results.innerHTML = `<div class="success">‚úÖ Found ${foundCollections.length} collections!</div>`;
            
            if (foundCollections.length === 0) {
                results.innerHTML += '<div class="error">‚ùå No collections found with common names.</div>';
                results.innerHTML += '<div class="info">Your collections might have custom names. Check your Appwrite console for the exact collection names.</div>';
                return;
            }
            
            // Display found collections
            for (const collection of foundCollections) {
                results.innerHTML += `
                    <div class="collection">
                        <h3 class="success">üìÅ ${collection.name}</h3>
                        <div class="info">üìä Total documents: ${collection.total}</div>
                        ${collection.sampleDoc ? 
                            `<div class="info">üìã Sample fields: ${Object.keys(collection.sampleDoc).slice(0, 8).join(', ')}</div>` 
                            : '<div class="error">No documents found</div>'
                        }
                    </div>
                `;
            }
            
            // Identify likely therapist/place collections
            const therapistCollections = foundCollections.filter(c => 
                c.name.includes('therapist') || c.name.includes('provider') || c.name.includes('terapis')
            );
            
            const placeCollections = foundCollections.filter(c => 
                c.name.includes('place') || c.name.includes('spa') || c.name.includes('venue') || c.name.includes('location')
            );
            
            if (therapistCollections.length > 0) {
                results.innerHTML += `<div class="success">üéØ Likely therapist collections: ${therapistCollections.map(c => c.name).join(', ')}</div>`;
            }
            
            if (placeCollections.length > 0) {
                results.innerHTML += `<div class="success">üéØ Likely place collections: ${placeCollections.map(c => c.name).join(', ')}</div>`;
            }
        }
    </script>
</body>
</html>