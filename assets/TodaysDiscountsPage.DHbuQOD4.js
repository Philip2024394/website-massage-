import{a as d,j as e,J as m,n as x,M as g,p as u}from"./vendor-react.DJgHGAhw.js";const p=({onBack:l,therapists:r=[]})=>{const n=d.useMemo(()=>(r||[]).filter(s=>s&&s.isLive===!0).filter(s=>s.discountPercentage&&s.discountPercentage>0&&s.discountEndTime&&s.isDiscountActive===!0).map(s=>({id:String(s.$id||s.id),name:s.name,profilePicture:s.profilePicture||s.mainImage,location:s.location,rating:s.rating,reviewCount:s.reviewCount,discountPercentage:s.discountPercentage,discountEndTime:s.discountEndTime,whatsappNumber:s.whatsappNumber,massageTypes:s.massageTypes})).sort((s,a)=>(a.discountPercentage||0)-(s.discountPercentage||0)),[r]);return e.jsxs("div",{className:"min-h-[calc(100vh-env(safe-area-inset-top)-env(safe-area-inset-bottom))] bg-gradient-to-br from-orange-50 via-white to-pink-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-pink-600 text-white sticky top-0 z-50 shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:l,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(m,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h1",{className:"text-2xl font-bold flex items-center gap-2",children:"ðŸ”¥ Today's Discounts"}),e.jsxs("p",{className:"text-sm text-orange-100",children:["Limited time offers â€¢ ",n.length," active deals"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-2xl p-4 pb-20 mb-6 shadow-lg animate-pulse",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:"âš¡"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Flash Sales Ending Soon!"}),e.jsx("p",{className:"text-sm text-gray-800",children:"Book now to secure these amazing discounts"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group border-2 border-transparent hover:border-orange-400 relative",children:[e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 text-white px-4 py-2 rounded-full font-bold text-lg shadow-lg animate-bounce",children:["-",s.discountPercentage,"% OFF"]})}),e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsxs("div",{className:"bg-black/70 backdrop-blur-sm text-white px-3 py-1.5 rounded-full font-semibold text-sm flex items-center gap-1.5",children:[e.jsx(x,{className:"w-4 h-4"}),(()=>{if(!s.discountEndTime)return"â€”";try{const a=new Date(s.discountEndTime).getTime(),i=Date.now(),t=a-i;if(t<=0)return"Expired";const o=Math.floor(t/(1e3*60*60)),c=Math.floor(t%(1e3*60*60)/(1e3*60));return"".concat(o,"h ").concat(c,"m")}catch{return"â€”"}})()]})}),e.jsxs("div",{className:"relative h-64 overflow-hidden",children:[e.jsx("img",{src:s.profilePicture,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-3",children:[e.jsx(g,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:s.location||"Location updating"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-orange-100 px-3 py-1 rounded-full",children:[e.jsx(u,{className:"w-4 h-4 fill-orange-500 text-orange-500"}),e.jsx("span",{className:"font-semibold text-gray-900",children:s.rating||"â€”"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:s.reviewCount?"(".concat(s.reviewCount,"+ reviews)"):""})]}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{try{const a=s.massageTypes?JSON.parse(s.massageTypes):[];return Array.isArray(a)?a.slice(0,5).map((i,t)=>e.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",children:i},t)):null}catch{return null}})()})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Discount ends"}),e.jsx("span",{className:"text-sm font-semibold text-orange-600",children:s.discountEndTime?new Date(s.discountEndTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"â€”"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Live discount"})]}),e.jsx("button",{onClick:()=>{},className:"bg-gradient-to-r from-orange-500 to-pink-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-200 hover:scale-105",disabled:!0,children:"Book Now (Disabled)"})]})]})]},s.id))}),n.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ˜´"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Live Discounts"}),e.jsx("p",{className:"text-gray-600",children:"Live therapist discounts will appear here automatically."})]})]})]})};export{p as default};
