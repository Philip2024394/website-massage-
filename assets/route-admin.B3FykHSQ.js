import{a as l,j as e,H as A,ah as v,O as k,Q as S,V as C,W as P,ai as $}from"./vendor-react.DJgHGAhw.js";import{f as N}from"./route-therapist.DVVqC6AH.js";const I=({therapists:h,loggedInAgent:y,onNavigate:u})=>{const n=!!y,[g,o]=l.useState(""),[p,d]=l.useState("all"),[c,r]=l.useState("all");if(l.useEffect(()=>{n||u==null||u("home")},[n,u]),!n)return e.jsx(N,{className:"py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"ðŸ” Access Denied"}),e.jsx("p",{className:"text-gray-600",children:"This page is only accessible to administrators."})]})});const f=Array.from(new Set(h.map(s=>s.city||s.location||"Unknown"))).sort(),x=h.filter(s=>{var t;if(g){const a=g.toLowerCase(),j=(t=s.name)==null?void 0:t.toLowerCase().includes(a),L=String(s.$id||s.id).toLowerCase().includes(a);if(!j&&!L)return!1}return!(p!=="all"&&(s.city||s.location||"Unknown")!==p||c!=="all"&&(c==="live"&&!s.isLive||c==="notLive"&&s.isLive))}),m=s=>!!(s.geopoint||s.coordinates),w=s=>{let t,a;s.geopoint?(t=s.geopoint.latitude,a=s.geopoint.longitude):s.coordinates&&(t=s.coordinates.lat,a=s.coordinates.lng),t&&a?window.open("https://www.google.com/maps?q=".concat(t,",").concat(a),"_blank"):alert("No coordinates available for this therapist")},i=s=>{const t=s.$id||s.id;window.open("/?previewTherapistId=".concat(t),"_blank")},b=s=>{window.open("/?adminViewArea=".concat(encodeURIComponent(s),"&bypassRadius=true"),"_blank")};return e.jsx(N,{className:"py-6 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ðŸ” Admin: Live Therapist Listings"}),e.jsx("p",{className:"text-gray-600",children:"Manage and preview all therapist listings"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsx("input",{type:"text",placeholder:"Name or ID...",value:g,onChange:s=>o(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Area"}),e.jsxs("select",{value:p,onChange:s=>d(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Areas"}),f.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Status"}),e.jsxs("select",{value:c,onChange:s=>r(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"live",children:"Live Only"}),e.jsx("option",{value:"notLive",children:"Not Live"})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["Showing ",x.length," of ",h.length," therapists"]}),e.jsx("button",{onClick:()=>{o(""),d("all"),r("all")},className:"text-blue-600 hover:text-blue-700",children:"Clear Filters"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Geopoint"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(s=>{const t=s.city||s.location||"Unknown",a=m(s),j=s.$updatedAt||s.updatedAt;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",s.$id||s.id]})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-900",children:t}),e.jsx("button",{onClick:()=>b(t),className:"text-xs text-blue-600 hover:text-blue-700",title:"View all therapists in this area",children:"(view)"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(s.isLive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:s.isLive?"Live":"Not Live"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(a?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:a?"Valid":"Missing"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j?new Date(j).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>i(s),className:"text-blue-600 hover:text-blue-900",title:"View listing live (preview mode)",children:"ðŸ‘ï¸ Preview"}),a&&e.jsx("button",{onClick:()=>w(s),className:"text-green-600 hover:text-green-900",title:"Open location in Google Maps",children:"ðŸ—ºï¸ Maps"})]})})]},s.$id||s.id)})})]})}),x.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No therapists found matching your filters"})]})]})})},O=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"})),_=({onBack:h,onAdminLogin:y,t:u})=>{const[n,g]=l.useState(""),[o,p]=l.useState(""),[d,c]=l.useState(!1),[r,f]=l.useState(!1),[x,m]=l.useState(""),w=async i=>{if(i.preventDefault(),m(""),!n||!o){m("Please enter both email and password");return}f(!0);try{await y(n,o)||m("Invalid admin credentials")}catch(b){m(b.message||"Login failed. Please try again.")}finally{f(!1)}};return e.jsxs("div",{className:"min-h-[calc(100vh-env(safe-area-inset-top)-env(safe-area-inset-bottom))] bg-gradient-to-br from-orange-50 via-white to-orange-50 flex flex-col",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-4 flex items-center justify-between shadow-sm sticky top-0 z-10",children:[e.jsxs("button",{onClick:h,className:"flex items-center gap-2 text-gray-700 hover:text-orange-600 transition-colors",children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsxs("div",{className:"font-bold text-xl",children:[e.jsx("span",{className:"text-black",children:"Inda"}),e.jsx("span",{className:"text-orange-500",children:"Street"})]}),e.jsx("div",{className:"w-20"})," "]}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-8 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:e.jsx(v,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Admin Portal"}),e.jsx("p",{className:"text-orange-100 text-sm",children:"Secure access for administrators"})]}),e.jsxs("form",{onSubmit:w,className:"px-6 py-8 space-y-6",children:[x&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg px-4 py-3 flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-red-500 flex items-center justify-center mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),e.jsx("p",{className:"text-sm text-red-800 flex-1",children:x})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Admin Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:n,onChange:i=>g(i.target.value),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all",placeholder:"admin@indastreet.com",disabled:r,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:d?"text":"password",value:o,onChange:i=>p(i.target.value),className:"w-full pl-11 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",disabled:r,required:!0}),e.jsx("button",{type:"button",onClick:()=>c(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:r,children:d?e.jsx(C,{className:"w-5 h-5"}):e.jsx(P,{className:"w-5 h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 rounded-lg font-semibold hover:from-orange-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Verifying..."})]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{children:"Sign In"})]})}),e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg px-4 py-3",children:e.jsxs("p",{className:"text-xs text-orange-800 text-center",children:[e.jsx(v,{className:"w-4 h-4 inline mr-1 mb-0.5"}),"This is a secure admin-only area. All access is logged and monitored."]})})]})]}),e.jsx("div",{className:"text-center mt-6 text-sm text-gray-600",children:e.jsx("p",{children:"Need help? Contact technical support"})})]})})]})},V=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"}));export{O as A,V as a};
