import{a as i,j as e,v as H,J as z,M as Q,t as X,an as Z,k as ee,a5 as se,E as te}from"./vendor-react.DJgHGAhw.js";import{d as _,A,U as S,e as C}from"./route-therapist.DVVqC6AH.js";import{c as M,C as le}from"./App.1fxTHtx8.js";import{Query as I}from"./vendor-appwrite.BT2H32tF.js";import"./route-booking.yuk30L8G.js";import"./vendor-misc.BCNplu90.js";import"./route-portals.BJGRQhN_.js";import"./vendor-ui.D6Y-8hbd.js";import"./route-payment.T2FKxZVj.js";const T="indastreet_apply_for_job_id",P=A.collections.employerJobPostings||"employer_job_postings",ae="https://ik.imagekit.io/7grri5v7d/position%20filled.png?updatedAt=1771076784587";function ne(){const h=new Date,u=h.getFullYear(),a=String(h.getMonth()+1).padStart(2,"0"),n=String(h.getDate()).padStart(2,"0"),x=Math.random().toString(36).slice(2,6).toUpperCase();return"APP-".concat(u).concat(a).concat(n,"-").concat(x)}const fe=({jobId:h,onBack:u,onNavigate:a,language:n="en",onLanguageChange:x,onMassageJobsClick:f,onTermsClick:b,onPrivacyClick:j,therapists:g=[],places:y=[]})=>{const k=h||(typeof sessionStorage!="undefined"?sessionStorage.getItem(T):null)||"",[t,B]=i.useState(null),[w,$]=i.useState(null),[U,O]=i.useState(!0),[q,W]=i.useState(!1),[Y,E]=i.useState(!1),[R,J]=i.useState(""),[r,o]=i.useState(!1),[s,d]=i.useState({name:"",email:"",phone:"",coverLetter:"",experience:"",specialties:"",cvFile:null});i.useEffect(()=>{k?V():O(!1)},[k]),i.useEffect(()=>()=>{try{sessionStorage.removeItem(T)}catch{}},[]);const V=async()=>{var l,m;try{const p=await _.getDocument(A.databaseId,P,k);B(p);const N=p.employerId||p.userId||p.employer_id;if(N)try{const v=await _.listDocuments(A.databaseId,P,[I.equal("employerId",N),I.limit(500)]),c=await _.listDocuments(A.databaseId,P,[I.equal("userId",N),I.limit(500)]),F=Math.max((l=v==null?void 0:v.total)!=null?l:0,(m=c==null?void 0:c.total)!=null?m:0);$(F)}catch{$(null)}}catch{}finally{O(!1)}},D=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),G=l=>{if(l.preventDefault(),M(s.experience)||M(s.specialties)||M(s.coverLetter)){alert(le);return}const m=ne();J(m);const p=s.cvFile?"\n*CV:* ".concat(s.cvFile.name," (attached)"):"",N="Hi, I'm interested in the *".concat((t==null?void 0:t.jobTitle)||"position","* at *").concat((t==null?void 0:t.businessName)||"your company","*.\n\n*Reference:* ").concat(m,"\n*Name:* ").concat(s.name,"\n*Email:* ").concat(s.email,"\n*Phone:* ").concat(s.phone,"\n")+(s.experience?"*Experience:* ".concat(s.experience,"\n"):"")+(s.specialties?"*Specialties:* ".concat(s.specialties,"\n"):"")+(s.coverLetter?"*Message:* ".concat(s.coverLetter,"\n"):"")+p+"\nI found this opportunity on IndaStreet.",c=(s.phone||(t==null?void 0:t.contactWhatsApp)||(t==null?void 0:t.contactPhone)||"").replace(/\D/g,""),F=c.startsWith("62")?c:c.startsWith("0")?"62"+c.slice(1):"62"+c;window.open("https://wa.me/".concat(F,"?text=").concat(encodeURIComponent(N)),"_blank"),W(!0),E(!0)};if(U)return e.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[e.jsx(S,{language:n,onLanguageChange:x,onMenuClick:()=>o(!0),onHomeClick:()=>a==null?void 0:a("home"),showHomeButton:!0}),r&&e.jsx(C,{isOpen:r,onClose:()=>o(!1),language:n,onNavigate:a,onMassageJobsClick:f,onTermsClick:b,onPrivacyClick:j,therapists:g,places:y,t:{}}),e.jsx("div",{className:"flex-1 flex items-center justify-center pt-24",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading job details..."})]})})]});if(!t)return e.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[e.jsx(S,{language:n,onLanguageChange:x,onMenuClick:()=>o(!0),onHomeClick:()=>a==null?void 0:a("home"),showHomeButton:!0}),r&&e.jsx(C,{isOpen:r,onClose:()=>o(!1),language:n,onNavigate:a,onMassageJobsClick:f,onTermsClick:b,onPrivacyClick:j,therapists:g,places:y,t:{}}),e.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 pt-24 text-center",children:[e.jsx("p",{className:"text-slate-600 mb-4",children:"Job not found or no longer available."}),e.jsx("button",{onClick:u,className:"px-6 py-2.5 bg-orange-500 text-white font-semibold rounded-xl hover:bg-orange-600",children:"Back to Jobs"})]})]});if(t.status==="filled")return e.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[e.jsx(S,{language:n,onLanguageChange:x,onMenuClick:()=>o(!0),onHomeClick:()=>a==null?void 0:a("home"),showHomeButton:!0}),r&&e.jsx(C,{isOpen:r,onClose:()=>o(!1),language:n,onNavigate:a,onMassageJobsClick:f,onTermsClick:b,onPrivacyClick:j,therapists:g,places:y,t:{}}),e.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 pt-24 text-center",children:[e.jsx("img",{src:ae,alt:"Position filled",className:"h-20 w-auto mx-auto mb-4 object-contain"}),e.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Position filled"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"This position is no longer accepting applications."}),e.jsx("button",{onClick:u,className:"px-6 py-2.5 bg-orange-500 text-white font-semibold rounded-xl hover:bg-orange-600",children:"Back to Jobs"})]})]});if(q)return e.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[e.jsx(S,{language:n,onLanguageChange:x,onMenuClick:()=>o(!0),onHomeClick:()=>a==null?void 0:a("home"),showHomeButton:!0}),r&&e.jsx(C,{isOpen:r,onClose:()=>o(!1),language:n,onNavigate:a,onMassageJobsClick:f,onTermsClick:b,onPrivacyClick:j,therapists:g,places:y,t:{}}),Y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:()=>E(!1),children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 text-center",onClick:l=>l.stopPropagation(),children:[e.jsx(H,{className:"w-14 h-14 text-emerald-500 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Application sent"}),e.jsx("p",{className:"text-slate-600 text-sm mb-6",children:"Your application has been sent to the employer. They will normally contact you within 72 hours. IndaStreet is here to help you find roles that fit your career—browse more listings anytime."}),e.jsx("button",{onClick:()=>E(!1),className:"w-full py-2.5 px-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-xl",children:"OK"})]})}),e.jsx("main",{className:"flex-1 px-4 sm:px-6 pt-24 pb-12 max-w-xl mx-auto w-full",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(H,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Apply Today"}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Best of luck. Employers are waiting for your application. Don't waste time—apply today."}),R&&e.jsx("p",{className:"text-sm font-mono text-slate-700 bg-slate-100 px-4 py-2 rounded-lg inline-block mb-6",children:R}),e.jsx("button",{onClick:u,className:"px-6 py-2.5 bg-orange-500 text-white font-semibold rounded-xl hover:bg-orange-600",children:"Back to job listings"})]})})]});const K=t.imageurl||t.imageUrl||"https://ik.imagekit.io/7grri5v7d/massage%20villa%20service%20indonisea.png?updatedAt=1761583264188",L=w!==null&&w<=1;return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(S,{language:n,onLanguageChange:x,onMenuClick:()=>o(!0),onHomeClick:()=>a==null?void 0:a("home"),showHomeButton:!0}),r&&e.jsx(C,{isOpen:r,onClose:()=>o(!1),language:n,onNavigate:a,onMassageJobsClick:f,onTermsClick:b,onPrivacyClick:j,therapists:g,places:y,t:{}}),e.jsxs("main",{className:"max-w-2xl mx-auto px-4 sm:px-6 pt-24 sm:pt-28 pb-16 space-y-8",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:u,className:"inline-flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-orange-600 transition-colors",children:[e.jsx(z,{className:"w-4 h-4"}),"Ref: ",k]})}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"relative w-full aspect-[21/9] min-h-[180px] rounded-xl overflow-hidden bg-slate-200",children:[e.jsx("img",{src:K,alt:t.businessName,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 text-white",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold drop-shadow-sm",children:"Apply for this position"}),e.jsxs("p",{className:"text-sm sm:text-base text-white/95 mt-0.5",children:[t.jobTitle," at ",t.businessName]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-orange-600",children:t.jobTitle}),e.jsx("span",{className:"text-slate-400",children:"·"}),e.jsx("span",{className:"text-sm text-slate-600",children:t.businessName}),w!==null&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-slate-400",children:"·"}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat(L?"bg-amber-100 text-amber-800":"bg-slate-200 text-slate-700"),children:L?"Employer’s first post":"Employer has posted before (".concat(w," post").concat(w===1?"":"s",")")})]})]}),e.jsxs("p",{className:"text-sm text-slate-600 flex items-center gap-1",children:[e.jsx(Q,{className:"w-4 h-4 text-slate-400"}),t.location||"—"]}),(t.salaryRangeMin!=null||t.salaryRangeMax!=null)&&e.jsxs("p",{className:"text-sm text-slate-600",children:[D(t.salaryRangeMin||0)," – ",D(t.salaryRangeMax||0)]}),t.jobDescription&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-4",children:t.jobDescription})]}),e.jsxs("section",{className:"space-y-3 border-l-4 border-orange-400 pl-4 py-2 bg-orange-50/50 rounded-r-lg",children:[e.jsxs("h2",{className:"text-base font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-orange-500"}),"First impressions last"]}),e.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:"Submitting as much relevant information helps the employer make a decision. Your CV is important—it’s the first step of any successful interview. If presented well, it will normally lead to an interview. Please upload your CV and fill in the form below."})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-base font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-amber-500"}),"Tips for your application"]}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-2 list-none",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:"•"}),e.jsx("span",{children:"Use one contact number only—the number you give will be used for WhatsApp. Use a number you check often so the employer can reach you."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:"•"}),e.jsx("span",{children:"Use a professional email address; avoid nicknames or shared family inboxes."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:"•"}),e.jsx("span",{children:"Tailor your cover letter to this role and business; mention the job title and why you’re a good fit."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:"•"}),e.jsx("span",{children:"Keep your CV to 1–2 pages and name the file clearly (e.g. YourName_CV.pdf)."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:"•"}),e.jsx("span",{children:"List specific experience and techniques (e.g. years, types of massage, languages) so employers can see your fit quickly."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:"•"}),e.jsx("span",{children:"Double-check spelling and your contact number before submitting—one mistake can cost you a callback."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:"•"}),e.jsx("span",{children:"After submitting, save your reference number so you can follow up with the employer."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:"•"}),e.jsx("span",{children:"Reply promptly if the employer contacts you; it shows you’re serious and organised."})]})]})]}),e.jsxs("section",{className:"space-y-5",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-orange-500"}),"Your application"]}),e.jsxs("form",{onSubmit:G,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full name *"}),e.jsx("input",{type:"text",required:!0,value:s.name,onChange:l=>d({...s,name:l.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500",placeholder:"Your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",required:!0,value:s.email,onChange:l=>d({...s,email:l.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500",placeholder:"your@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Contact number (phone / WhatsApp) *"}),e.jsx("input",{type:"tel",required:!0,value:s.phone,onChange:l=>d({...s,phone:l.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500",placeholder:"e.g. 08123456789 — employer will contact you on this number"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-orange-500"}),"Upload CV (PDF or Word)"]}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:l=>{var m;return d({...s,cvFile:((m=l.target.files)==null?void 0:m[0])||null})},className:"w-full text-sm text-slate-600 file:mr-3 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-orange-100 file:text-orange-700 file:font-semibold hover:file:bg-orange-200"}),s.cvFile&&e.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Selected: ",s.cvFile.name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Experience"}),e.jsx("input",{type:"text",value:s.experience,onChange:l=>d({...s,experience:l.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500",placeholder:"e.g. 5 years, Balinese massage, spa experience"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Specialties / Massage types"}),e.jsx("input",{type:"text",value:s.specialties,onChange:l=>d({...s,specialties:l.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500",placeholder:"e.g. Deep Tissue, Swedish, Hot Stone"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cover letter / Message"}),e.jsx("textarea",{rows:4,value:s.coverLetter,onChange:l=>d({...s,coverLetter:l.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500",placeholder:"Introduce yourself and why you're a good fit..."})]}),e.jsxs("button",{type:"submit",className:"w-full py-3 px-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-xl transition-all flex items-center justify-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Submit application via WhatsApp"]}),e.jsx("p",{className:"text-sm text-slate-500 text-center mt-3 leading-relaxed",children:"Job listings are updated weekly. Choosing wisely is the key to a long career with an establishment that fits your requirements ideally."})]})]})]})]})};export{fe as default};
