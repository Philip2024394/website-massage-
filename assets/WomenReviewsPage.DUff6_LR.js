import{a as p,j as a,p as V,av as $}from"./vendor-react.DJgHGAhw.js";import{r as M,U,e as G,k as H,h as q,p as R}from"./route-therapist.DVVqC6AH.js";import{F as J}from"./FloatingPageFooter.BEXmstKk.js";import"./vendor-appwrite.BT2H32tF.js";import"./route-booking.yuk30L8G.js";import"./vendor-misc.BCNplu90.js";import"./route-portals.BJGRQhN_.js";const D=["https://ik.imagekit.io/7grri5v7d/avatar%201.png","https://ik.imagekit.io/7grri5v7d/avatar%202.png","https://ik.imagekit.io/7grri5v7d/avatar%203.png","https://ik.imagekit.io/7grri5v7d/avatar%204.png","https://ik.imagekit.io/7grri5v7d/avatar%206.png","https://ik.imagekit.io/7grri5v7d/avatar%207.png","https://ik.imagekit.io/7grri5v7d/avatar%208.png","https://ik.imagekit.io/7grri5v7d/avatar%209.png","https://ik.imagekit.io/7grri5v7d/avatar%2010.png","https://ik.imagekit.io/7grri5v7d/avatar%2011.png","https://ik.imagekit.io/7grri5v7d/avatar%2012.png","https://ik.imagekit.io/7grri5v7d/avatar%2013.png","https://ik.imagekit.io/7grri5v7d/avatar%2014.png","https://ik.imagekit.io/7grri5v7d/avatar%2015.png","https://ik.imagekit.io/7grri5v7d/avatar%2016.png","https://ik.imagekit.io/7grri5v7d/avatar%2017.png","https://ik.imagekit.io/7grri5v7d/avatar%2018.png"],z=[{id:"mock-1",userName:"Dewi S.",rating:5,textEn:"Booked a 90-minute massage at my villa in Seminyak. The therapist was on time, professional and the pressure was perfect. Will definitely use IndaStreet again.",textId:"Pesan pijat 90 menit di villa saya di Seminyak. Terapis tepat waktu, profesional dan tekanannya pas. Pasti akan pakai IndaStreet lagi.",providerName:"Putu Wijaya",providerType:"therapist",reviewDate:"2025-01-08",avatarIndex:13},{id:"mock-2",userName:"James T.",rating:5,textEn:"First time trying a massage place from the app. Clean room, friendly staff and the traditional massage was exactly what I needed after a long flight.",textId:"Pertama kali coba tempat pijat dari aplikasi. Ruangan bersih, staf ramah dan pijat tradisionalnya persis yang saya butuhkan setelah penerbangan panjang.",providerName:"Bali Relax Spa",providerType:"place",reviewDate:"2025-01-07",avatarIndex:2},{id:"mock-3",userName:"Siti R.",rating:5,textEn:"I requested a female therapist and got one without any hassle. She was very skilled and made me feel comfortable. Great experience.",textId:"Saya minta terapis wanita dan dapat tanpa ribet. Terapisnya sangat terampil dan membuat saya nyaman. Pengalaman yang bagus.",providerName:"Ni Luh Ketut",providerType:"therapist",reviewDate:"2025-01-06",avatarIndex:15},{id:"mock-4",userName:"Michelle L.",rating:4,textEn:"Facial treatment was relaxing and my skin felt really soft afterwards. The clinic was easy to find. Only minor wait for the appointment.",textId:"Perawatan wajahnya menenangkan dan kulit saya terasa sangat halus setelahnya. Kliniknya mudah ditemukan. Hanya tunggu sedikit untuk janji.",providerName:"Glow Skin Care",providerType:"facial-place",reviewDate:"2025-01-05",avatarIndex:5},{id:"mock-5",userName:"Budi H.",rating:5,textEn:"Hotel massage in Ubud—came to my room as scheduled. Very professional, brought own equipment. Price was clear from the start. Recommended.",textId:"Pijat hotel di Ubud—datang ke kamar saya sesuai jadwal. Sangat profesional, bawa peralatan sendiri. Harga jelas dari awal. Direkomendasikan.",providerName:"Komang Adi",providerType:"therapist",reviewDate:"2025-01-04",avatarIndex:7},{id:"mock-6",userName:"Emma W.",rating:5,textEn:"Our whole group booked therapists for an afternoon at the villa. Everyone was happy with their massage. Booking and payment were straightforward.",textId:"Seluruh grup kami memesan terapis untuk sore di villa. Semua puas dengan pijatannya. Pemesanan dan pembayaran mudah.",providerName:"Canggu Wellness Studio",providerType:"place",reviewDate:"2025-01-03",avatarIndex:10},{id:"mock-7",userName:"Ahmad F.",rating:5,textEn:"Needed a deep tissue massage after surfing. Found a great therapist on IndaStreet, came to my guesthouse. Exactly what I needed.",textId:"Butuh pijat deep tissue setelah berselancar. Nemuin terapis bagus di IndaStreet, datang ke guesthouse saya. Persis yang saya butuhkan.",providerName:"Made Surya",providerType:"therapist",reviewDate:"2025-01-02",avatarIndex:1},{id:"mock-8",userName:"Linda K.",rating:5,textEn:"I was nervous about booking a massage as a solo female traveller. The verification and option to choose a female therapist put my mind at ease. Thank you!",textId:"Saya nervous pesan pijat sebagai wisatawan wanita solo. Verifikasi dan opsi pilih terapis wanita bikin saya tenang. Terima kasih!",providerName:"Kadek Sri",providerType:"therapist",reviewDate:"2024-12-30",avatarIndex:14}],re=({t:Q,language:A,onNavigate:g,onSelectTherapist:k,onSelectPlace:w,therapists:N=[],places:I=[],facialPlaces:T=[]})=>{const[S,C]=p.useState(!1),[h,_]=p.useState(A||"en"),[v,P]=p.useState([]),[b,L]=p.useState(!0),[B,F]=p.useState({}),O=e=>{_(e)},i=p.useMemo(()=>({en:{title:"Latest Reviews",subtitle:"Our Customers Say It Best",loading:"Loading reviews...",noReviews:"No reviews yet. Check back soon!",reviewFor:"Review for",therapist:"Therapist",massagePlace:"Massage Place",skinCareClinic:"Skin Care Clinic",viewProfile:"View profile",whyChoose:"Why Women Choose Us",verifiedTherapists:"Verified Therapists",gpsTracking:"GPS Tracking",realReviews:"Real Reviews",femaleOption:"Female Therapist Options",safetyMonitoringNote:"Location monitoring helps keep both clients and therapists safe. Our providers agree to this in our terms.",disclaimerTitle:"About our reviews",disclaimer:"IndaStreet does not modify reviews. We may remove reviews that do not meet our standards (for example, content not suitable for all audiences or that exploits personal details)."},id:{title:"Ulasan Terbaru",subtitle:"Pelanggan Kami Bicara Terbaik",loading:"Memuat ulasan...",noReviews:"Belum ada ulasan. Silakan cek lagi nanti!",reviewFor:"Ulasan untuk",therapist:"Terapis",massagePlace:"Tempat Pijat",skinCareClinic:"Klinik Perawatan Kulit",viewProfile:"Lihat profil",whyChoose:"Mengapa Wanita Memilih Kami",verifiedTherapists:"Terapis Terverifikasi",gpsTracking:"GPS Tracking",realReviews:"Review Asli",femaleOption:"Pilihan Terapis Wanita",safetyMonitoringNote:"Pemantauan lokasi membantu menjaga keselamatan klien dan terapis. Semua penyedia kami setuju dalam ketentuan kami.",disclaimerTitle:"Tentang ulasan kami",disclaimer:"IndaStreet tidak mengubah ulasan. Kami dapat menghapus ulasan yang tidak memenuhi standar kami (misalnya konten yang tidak pantas untuk semua usia atau yang mengeksploitasi detail pribadi)."}}),[])[h],j=p.useMemo(()=>v.length>0?v:z.map(e=>({id:e.id,$id:e.id,userName:e.userName,rating:e.rating,reviewContent:h==="id"?e.textId:e.textEn,textEn:e.textEn,textId:e.textId,reviewDate:e.reviewDate,providerName:e.providerName,providerType:e.providerType,avatarIndex:e.avatarIndex,isMock:!0})),[v,h]);p.useEffect(()=>{let e=!1;return(async()=>{try{L(!0);const t=M.getLatest?await M.getLatest(50):[];if(e)return;P(Array.isArray(t)?t:[])}catch{e||P([])}finally{e||L(!1)}})(),()=>{e=!0}},[]);const c=p.useMemo(()=>({therapist:i.therapist,massagePlace:i.massagePlace,skinCareClinic:i.skinCareClinic}),[i.therapist,i.massagePlace,i.skinCareClinic]);p.useEffect(()=>{if(v.length===0)return;const e=new Map;v.forEach(s=>{var d,x,u,m;const l=((x=(d=s.providerId)!=null?d:s.provider_id)!=null?x:"").toString(),r=((m=(u=s.providerType)!=null?u:s.provider_type)!=null?m:"therapist").toLowerCase();l&&e.set("".concat(r,"_").concat(l),{providerType:r,providerId:l})});const t={},f=async(s,l,r)=>{var d,x,u,m,y;if(l==="therapist"){const o=N.find(n=>(n.$id||n.id||"").toString()===r);if(o){t[s]={name:o.name||"Therapist",typeLabel:c.therapist,provider:o,page:"therapist-profile"};return}try{const n=await q.getById(r);n&&(t[s]={name:n.name||"Therapist",typeLabel:c.therapist,provider:n,page:"therapist-profile"})}catch{}return}if(l==="place"||l==="massage_place"){const o=I.find(n=>(n.$id||n.id||n.placeId||"").toString()===r);if(o){t[s]={name:o.name||"Massage Place",typeLabel:c.massagePlace,provider:o,page:"massage-place-profile"};return}try{const n=(y=await((x=(d=R).getByProviderId)==null?void 0:x.call(d,r)))!=null?y:await((m=(u=R).getById)==null?void 0:m.call(u,r));n&&(t[s]={name:n.name||"Massage Place",typeLabel:c.massagePlace,provider:n,page:"massage-place-profile"})}catch{}return}if(l==="facial-place"||l==="facial_place"){const o=T.find(n=>(n.$id||n.id||"").toString()===r);o&&(t[s]={name:o.name||"Skin Care Clinic",typeLabel:c.skinCareClinic,provider:o,page:"facial-place-profile"})}};(async()=>(await Promise.all(Array.from(e.entries()).map(([s,{providerType:l,providerId:r}])=>f(s,l,r))),F(s=>({...s,...t}))))()},[v,N,I,T,c]);const E=e=>{var s,l,r,d;const t=((l=(s=e.providerId)!=null?s:e.provider_id)!=null?l:"").toString(),f=((d=(r=e.providerType)!=null?r:e.provider_type)!=null?d:"therapist").toLowerCase();return B["".concat(f,"_").concat(t)]},W=e=>{const t=E(e);t!=null&&t.provider&&(t.page==="therapist-profile"&&k?(k(t.provider),g==null||g("therapist-profile")):(t.page==="massage-place-profile"||t.page==="facial-place-profile")&&w&&(w(t.provider),g==null||g(t.page)))},K=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString(h==="id"?"id-ID":"en-GB",{day:"2-digit",month:"short",year:"numeric"})}catch{return e}};return a.jsxs("div",{className:"min-h-[calc(100vh-env(safe-area-inset-top)-env(safe-area-inset-bottom))] bg-gray-50",children:[a.jsx(U,{language:h,onLanguageChange:O,onMenuClick:()=>C(!0)}),S&&a.jsx(G,{isOpen:S,onClose:()=>C(!1),onNavigate:g,currentLanguage:h}),a.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 pt-16 pb-20",children:[a.jsxs("header",{className:"text-center mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:[a.jsx("span",{className:"text-black",children:"Inda"}),a.jsx("span",{className:"text-orange-500",children:"street"})]}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-2",children:i.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.subtitle})]}),a.jsxs("div",{className:"mb-6 p-4 rounded-xl bg-white border border-gray-200 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:i.disclaimerTitle}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:i.disclaimer})]}),b&&a.jsx("p",{className:"text-center text-gray-500 py-8",children:i.loading}),!b&&j.length>0&&a.jsx("div",{className:"space-y-4",children:j.map(e=>{var x,u;const t=e.$id||e.id||e.reviewId,f=Number(e.rating)||0,s=e.reviewContent||e.comment||e.reviewText||e.text||(h==="id"?e.textId:e.textEn)||"",l=e.userName||e.reviewerName||"Anonymous",r=(x=E(e))!=null?x:e.providerName&&e.providerType?{name:e.providerName,typeLabel:e.providerType==="facial-place"?c.skinCareClinic:e.providerType==="place"?c.massagePlace:c.therapist,provider:null,page:""}:null,d=(u=e.avatarIndex)!=null?u:Math.abs((t||"").split("").reduce((m,y)=>m+y.charCodeAt(0),0))%D.length;return a.jsxs("article",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx("img",{src:e.avatar||e.avatarUrl||D[d],alt:"",className:"w-12 h-12 rounded-full object-cover flex-shrink-0"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:l}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("div",{className:"flex text-yellow-500",children:[1,2,3,4,5].map(m=>a.jsx(V,{className:"w-4 h-4 ".concat(m<=f?"fill-current":"text-gray-200")},m))}),a.jsx("span",{className:"text-xs text-gray-500",children:K(e.reviewDate||e.createdAt)})]})]})]}),s&&a.jsx("p",{className:"text-gray-700 text-sm leading-relaxed mb-4",children:s}),r&&a.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-3 border-t border-gray-100",children:[a.jsxs("span",{className:"text-xs text-gray-600",children:[i.reviewFor,": ",a.jsx("strong",{children:r.name})," (",r.typeLabel,")"]}),r.provider&&(k||w)&&a.jsxs("button",{type:"button",onClick:()=>W(e),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-orange-500 hover:bg-orange-600 text-white text-sm font-medium transition-colors",children:[a.jsx($,{className:"w-3.5 h-3.5"}),i.viewProfile]})]})]},t||Math.random())})}),!b&&j.length===0&&a.jsx("div",{className:"bg-white rounded-xl p-8 text-center border border-gray-200",children:a.jsx("p",{className:"text-gray-600",children:i.noReviews})}),a.jsxs("section",{className:"mt-10 pt-8 border-t border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:i.whyChoose}),a.jsx("p",{className:"text-sm text-gray-600 text-center max-w-xl mx-auto mb-6",children:i.safetyMonitoringNote}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 flex items-center justify-center mb-3",children:a.jsx("img",{src:H,alt:"Verified",className:"w-16 h-16 object-contain"})}),a.jsx("p",{className:"text-sm font-medium text-gray-900 text-center",children:i.verifiedTherapists})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-32 h-16 flex items-center justify-center mb-3",children:a.jsx("img",{src:"https://ik.imagekit.io/7grri5v7d/satalite-removebg-preview.png",alt:"GPS",className:"w-32 h-32 object-contain"})}),a.jsx("p",{className:"text-sm font-medium text-gray-900 text-center",children:i.gpsTracking})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 flex items-center justify-center mb-3",children:a.jsx("img",{src:"https://ik.imagekit.io/7grri5v7d/reviews%20icon.png",alt:"Reviews",className:"w-16 h-16 object-contain"})}),a.jsx("p",{className:"text-sm font-medium text-gray-900 text-center",children:i.realReviews})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 flex items-center justify-center mb-3",children:a.jsx("img",{src:"https://ik.imagekit.io/7grri5v7d/reviews%20icons.png",alt:"Female",className:"w-16 h-16 object-contain"})}),a.jsx("p",{className:"text-sm font-medium text-gray-900 text-center",children:i.femaleOption})]})]})]}),a.jsx("div",{className:"mt-10",children:a.jsx(J,{currentLanguage:h,onNavigate:g})})]})]})};export{re as default};
