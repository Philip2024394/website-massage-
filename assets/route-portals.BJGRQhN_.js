var me=Object.defineProperty;var fe=(o,e,t)=>e in o?me(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var _=(o,e,t)=>fe(o,typeof e!="symbol"?e+"":e,t);import{a as c,j as r,H as he,O as te,Q as re,V as se,W as ae,U as ie}from"./vendor-react.DJgHGAhw.js";import{l as m,c as k,B as ge,e as xe,s as z}from"./route-therapist.DVVqC6AH.js";const pe=({pageNumber:o,pageName:e,isLocked:t,showNumbers:s=!1})=>{const[a,i]=c.useState(t||!1);return c.useEffect(()=>{(()=>{try{const u=["HomePage","AcceptBookingPage","MassagePlaceProfilePage","TherapistStatusPage","HeroSection"].some(h=>{const w=e.replace(/Page$/i,"").replace(/\.tsx$/i,""),M=h.replace(/Page$/i,"").replace(/\.tsx$/i,"");return w.toLowerCase().includes(M.toLowerCase())||M.toLowerCase().includes(w.toLowerCase())||e.toLowerCase()===h.toLowerCase()||e.toLowerCase()===(h+"Page").toLowerCase()});i(u)}catch{i(!1)}})(),t!==void 0&&i(t)},[o,e,t]),r.jsx("div",{className:"fixed top-4 right-4 z-[9999] pointer-events-none select-none transition-opacity duration-200 ".concat(s?"opacity-100":"opacity-0 invisible"),children:r.jsxs("div",{className:"\n                inline-flex items-center gap-2 px-4 py-2 rounded-lg shadow-xl backdrop-blur-md\n                ".concat(a?"bg-red-500 text-white border-4 border-red-700 shadow-red-500/50":"bg-blue-500 text-white border-4 border-blue-700 shadow-blue-500/50","\n                font-mono text-sm font-bold min-h-[40px]\n            "),children:[r.jsx("svg",{className:"w-6 h-6 transition-opacity ".concat(a?"opacity-100":"opacity-0 w-0 h-0"),fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),r.jsxs("span",{className:"text-xs font-bold px-2 py-1 rounded ".concat(a?"bg-red-900 bg-opacity-90 text-red-300 border border-red-600":"bg-black bg-opacity-50 text-white"),children:[r.jsx("span",{className:a?"":"hidden",children:"ðŸ”’ LOCKED"}),r.jsx("span",{className:a?"hidden":"",children:"UNLOCKED"})]}),r.jsxs("span",{className:"text-lg",children:["#",o]}),r.jsx("span",{className:"text-xs opacity-80 max-w-20 truncate",title:e,children:e})]})})},we=({children:o,condition:e=!0,fallback:t=null})=>{const[s,a]=c.useState(!1),[i,g]=c.useState(e),l=c.useRef(e);return c.useEffect(()=>{const h=setTimeout(()=>{a(!0)},0);return()=>{clearTimeout(h),a(!1)}},[]),c.useEffect(()=>{if(l.current&&!e){const h=requestAnimationFrame(()=>{g(!1)});return()=>cancelAnimationFrame(h)}l.current=e,e&&g(!0)},[e]),s&&(e||i)?r.jsx("div",{style:{position:"relative"},children:o}):r.jsx(r.Fragment,{children:t})};class be{constructor(){_(this,"STORAGE_PREFIX","rl_");_(this,"configs",{login:{maxRequests:5,windowMs:900*1e3,keyPrefix:"auth:login",message:"Too many login attempts. Please try again in 15 minutes."},createBooking:{maxRequests:10,windowMs:3600*1e3,keyPrefix:"booking:create",message:"Too many booking requests. Please wait before creating another booking."},sendMessage:{maxRequests:30,windowMs:60*1e3,keyPrefix:"chat:send",message:"You are sending messages too quickly. Please slow down."},apiGeneral:{maxRequests:100,windowMs:60*1e3,keyPrefix:"api:general",message:"Too many requests. Please slow down."},register:{maxRequests:3,windowMs:3600*1e3,keyPrefix:"auth:register",message:"Too many registration attempts. Please try again later."},passwordReset:{maxRequests:3,windowMs:3600*1e3,keyPrefix:"auth:reset",message:"Too many password reset requests. Please try again later."},submitReview:{maxRequests:5,windowMs:1440*60*1e3,keyPrefix:"review:submit",message:"You have submitted too many reviews. Please try again tomorrow."}})}async checkLimit(e,t){try{const s=this.getStorageKey(t.keyPrefix,e),a=Date.now(),i=this.getTokenBucket(s,t),g=Math.floor((a-i.lastRefill)/1e3*i.refillRate);if(i.tokens=Math.min(i.maxTokens,i.tokens+g),i.lastRefill=a,i.tokens>=1)return i.tokens-=1,this.saveTokenBucket(s,i),m.debug("Rate limit check passed",{userId:e,endpoint:t.keyPrefix,remaining:i.tokens}),{allowed:!0,remaining:Math.floor(i.tokens),resetTime:a+(t.windowMs-(a-i.lastRefill))};const l=i.lastRefill+t.windowMs,u=Math.ceil((l-a)/1e3);return m.warn("Rate limit exceeded",{userId:e,endpoint:t.keyPrefix,retryAfter:u}),{allowed:!1,remaining:0,resetTime:l,retryAfter:u}}catch(s){return m.error("Rate limiter error:",s),{allowed:!0,remaining:t.maxRequests,resetTime:Date.now()+t.windowMs}}}async enforce(e,t){const s=await this.checkLimit(e,t);if(!s.allowed){const a=new Error(t.message||"Rate limit exceeded");throw a.code=429,a.retryAfter=s.retryAfter,a.resetTime=s.resetTime,a}}getTokenBucket(e,t){try{const s=localStorage.getItem(e);if(s)return JSON.parse(s)}catch(s){m.warn("Failed to parse stored rate limit data:",s)}return{tokens:t.maxRequests,lastRefill:Date.now,maxTokens:t.maxRequests,refillRate:t.maxRequests/(t.windowMs/1e3)}}saveTokenBucket(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(s){m.warn("Failed to save rate limit data:",s)}}getStorageKey(e,t){return"".concat(this.STORAGE_PREFIX).concat(e,":").concat(t)}clearUserLimits(e){try{Object.keys(localStorage).filter(s=>s.startsWith(this.STORAGE_PREFIX)&&s.endsWith(":".concat(e))).forEach(s=>localStorage.removeItem(s)),m.debug("Cleared rate limits for user:",e)}catch(t){m.error("Failed to clear rate limits:",t)}}async getStatus(e,t){const s=this.configs[t];return this.checkLimit(e,s)}cleanup(){try{const e=Date.now(),t=Object.keys(localStorage).filter(a=>a.startsWith(this.STORAGE_PREFIX));let s=0;t.forEach(a=>{try{const i=JSON.parse(localStorage.getItem(a)||"{}");i.lastRefill&&e-i.lastRefill>1440*60*1e3&&(localStorage.removeItem(a),s++)}catch{localStorage.removeItem(a),s++}}),s>0&&m.debug("Cleaned up ".concat(s," expired rate limit entries"))}catch(e){m.error("Rate limit cleanup failed:",e)}}}const A=new be;typeof window!="undefined"&&window.addEventListener("load",()=>{setTimeout(()=>A.cleanup(),5e3)});async function ye(o,e,t){const s=o;try{await A.enforce(s,A.configs.register);const a=await k.create("unique()",o,e,t);return m.info("Account created (rate-limited)",{email:o,userId:a.$id}),a}catch(a){if(a.code===429){m.warn("Rate limit exceeded for account creation",{email:o,retryAfter:a.retryAfter});const i=new Error("Too many registration attempts. Please try again later.");throw i.code=429,i.retryAfter=a.retryAfter,i}throw a}}async function oe(o,e){const t=o;try{await A.enforce(t,A.configs.login);const s=await k.createEmailPasswordSession(o,e);return m.info("Session created (rate-limited)",{email:o,sessionId:s.$id}),s}catch(s){if(s.code===429){m.warn("Rate limit exceeded for login",{email:o,retryAfter:s.retryAfter});const a=new Error(A.configs.login.message||"Too many login attempts");throw a.code=429,a.retryAfter=s.retryAfter,a}throw s}}function ve(o){if(o.code===429){if(o.retryAfter){const e=Math.ceil(o.retryAfter/60);return"".concat(o.userMessage||o.message," Please wait ").concat(e," minute").concat(e>1?"s":"",".")}return o.userMessage||o.message||"Too many requests. Please try again later."}return o.message||"An error occurred"}typeof window!="undefined"&&window.addEventListener("unhandledrejection",o=>{var e;if(((e=o.reason)==null?void 0:e.code)===429){m.warn("Unhandled rate limit error",{error:o.reason});const t=ve(o.reason);window.showToast&&window.showToast(t,"warning")}});const j={email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,phone:/^\+?[1-9]\d{1,14}$/,whatsapp:/^\+?[1-9]\d{7,14}$/,alphanumeric:/^[a-zA-Z0-9]+$/,alphanumericWithSpaces:/^[a-zA-Z0-9\s]+$/,url:/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$/,uuid:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,indonesianPhone:/^(\+62|62|0)[8][1-9][0-9]{6,9}$/},je=[/<script[\s\S]*?>[\s\S]*?<\/script>/gi,/<iframe[\s\S]*?>[\s\S]*?<\/iframe>/gi,/javascript\s*:/gi,/on\w+\s*=/gi,/SELECT\s+.*FROM/gi,/INSERT\s+INTO/gi,/UPDATE\s+.*SET/gi,/DELETE\s+FROM/gi,/DROP\s+TABLE/gi,/UNION\s+SELECT/gi];class f{static validateEmail(e){if(!e||typeof e!="string")return{isValid:!1,error:"Email is required"};const t=e.trim().toLowerCase();return t.length>254?{isValid:!1,error:"Email is too long"}:j.email.test(t)?this.containsDangerousContent(t)?(m.warn("Dangerous content detected in email",{email:t}),{isValid:!1,error:"Invalid email format"}):{isValid:!0,sanitized:t}:{isValid:!1,error:"Invalid email format"}}static validatePhone(e,t){if(!e||typeof e!="string")return{isValid:!1,error:"Phone number is required"};const s=e.replace(/[\s\-\(\)]/g,"");return t==="ID"||e.startsWith("+62")||e.startsWith("62")||e.startsWith("0")?j.indonesianPhone.test(s)?{isValid:!0,sanitized:"+"+s.replace(/^0/,"62")}:{isValid:!1,error:"Invalid Indonesian phone number format"}:j.phone.test(s)?{isValid:!0,sanitized:s.startsWith("+")?s:"+"+s}:{isValid:!1,error:"Invalid phone number format"}}static validateWhatsApp(e){if(!e||typeof e!="string")return{isValid:!1,error:"WhatsApp number is required"};const t=e.replace(/[\s\-\(\)]/g,"");return j.whatsapp.test(t)?{isValid:!0,sanitized:t.startsWith("+")?t:"+"+t}:{isValid:!1,error:"Invalid WhatsApp number format"}}static validatePassword(e){return!e||typeof e!="string"?{isValid:!1,error:"Password is required"}:e.length<8?{isValid:!1,error:"Password must be at least 8 characters long"}:e.length>128?{isValid:!1,error:"Password is too long (max 128 characters)"}:/[a-zA-Z]/.test(e)?/[0-9]/.test(e)?["password","12345678","qwerty123","admin123"].includes(e.toLowerCase())?{isValid:!1,error:"Password is too weak"}:{isValid:!0,sanitized:e}:{isValid:!1,error:"Password must contain at least one number"}:{isValid:!1,error:"Password must contain at least one letter"}}static validateText(e,t={}){const{required:s=!0,minLength:a=0,maxLength:i=1e3,alphanumericOnly:g=!1,allowSpaces:l=!0}=t;if(!e||typeof e!="string")return s?{isValid:!1,error:"This field is required"}:{isValid:!0,sanitized:""};const u=e.trim();return s&&u.length===0?{isValid:!1,error:"This field is required"}:u.length<a?{isValid:!1,error:"Minimum ".concat(a," characters required")}:u.length>i?{isValid:!1,error:"Maximum ".concat(i," characters allowed")}:this.containsDangerousContent(u)?(m.warn("Dangerous content detected in text input",{text:u.substring(0,50)}),{isValid:!1,error:"Invalid input format"}):g&&!(l?j.alphanumericWithSpaces:j.alphanumeric).test(u)?{isValid:!1,error:"Only letters and numbers are allowed"}:{isValid:!0,sanitized:this.sanitizeString(u)}}static validateURL(e){if(!e||typeof e!="string")return{isValid:!1,error:"URL is required"};const t=e.trim();return j.url.test(t)?t.startsWith("https://")?{isValid:!0,sanitized:t}:{isValid:!1,error:"Only HTTPS URLs are allowed"}:{isValid:!1,error:"Invalid URL format"}}static validateBookingData(e){const t=[];if(e.therapistId&&!j.uuid.test(e.therapistId)&&t.push("Invalid therapist ID"),e.date){const s=new Date(e.date);isNaN(s.getTime())?t.push("Invalid date format"):s<new Date&&t.push("Cannot book in the past")}if(e.duration!==void 0&&(typeof e.duration!="number"||e.duration<30||e.duration>480)&&t.push("Duration must be between 30 and 480 minutes"),e.address){const s=this.validateText(e.address,{required:!0,minLength:10,maxLength:500});s.isValid||t.push(s.error||"Invalid address")}if(e.notes){const s=this.validateText(e.notes,{required:!1,maxLength:1e3});s.isValid||t.push(s.error||"Invalid notes")}return t.length>0?{isValid:!1,error:t.join(", ")}:{isValid:!0,sanitized:e}}static validateFile(e,t={}){const{maxSize:s=5*1024*1024,allowedTypes:a=["image/jpeg","image/png","image/gif","image/webp"]}=t;if(!e||!(e instanceof File))return{isValid:!1,error:"Invalid file"};if(e.size>s){const i=s/1048576;return{isValid:!1,error:"File size must be less than ".concat(i,"MB")}}return a.includes(e.type)?this.containsDangerousContent(e.name)?{isValid:!1,error:"Invalid file name"}:{isValid:!0,sanitized:e}:{isValid:!1,error:"File type ".concat(e.type," not allowed")}}static containsDangerousContent(e){return je.some(t=>t.test(e))}static sanitizeString(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}static validateObject(e,t){if(!e||typeof e!="object")return{isValid:!1,error:"Invalid object"};const s={},a=[];for(const[i,g]of Object.entries(t)){const l=e[i];if(l==null){a.push("".concat(i," is required"));continue}switch(g){case"string":const u=this.validateText(l);u.isValid?s[i]=u.sanitized:a.push("".concat(i,": ").concat(u.error));break;case"email":const h=this.validateEmail(l);h.isValid?s[i]=h.sanitized:a.push("".concat(i,": ").concat(h.error));break;case"phone":const w=this.validatePhone(l);w.isValid?s[i]=w.sanitized:a.push("".concat(i,": ").concat(w.error));break;case"number":typeof l!="number"||isNaN(l)?a.push("".concat(i," must be a valid number")):s[i]=l;break;case"boolean":typeof l!="boolean"?a.push("".concat(i," must be a boolean")):s[i]=l;break}}return a.length>0?{isValid:!1,error:a.join(", ")}:{isValid:!0,sanitized:s}}}const ke=({onNavigateHome:o,onLoginSuccess:e,t,onMassageJobsClick:s,onHotelPortalClick:a,onVillaPortalClick:i,onTherapistPortalClick:g,onMassagePlacePortalClick:l,onFacialPortalClick:u,onAgentPortalClick:h,onCustomerPortalClick:w,onAdminPortalClick:M,onTermsClick:ne,onPrivacyClick:le,onNavigate:$})=>{const[L,H]=c.useState("login"),[v,G]=c.useState(""),[b,K]=c.useState(""),[D,de]=c.useState(""),[N,X]=c.useState(!1),[I,S]=c.useState(!1),[B,p]=c.useState(""),[V,E]=c.useState(""),[J,T]=c.useState(""),[W,U]=c.useState(""),[R,C]=c.useState(!1),[q,O]=c.useState(!1),[Z,Y]=c.useState(!1),[Q,ee]=c.useState(!1),ce=async n=>{n.preventDefault(),p(""),S(!0);const d=f.validateEmail(v),P=f.validatePassword(b);if(!d.isValid||!P.isValid){E(d.error||""),T(P.error||""),C(!0),O(!0),p("Please fix the errors above"),S(!1);return}try{try{await k.getSession("current")&&await k.deleteSession("current")}catch{}await oe(d.sanitized,b);const y=await k.get();z("Welcome back! Logging in...","success"),e?e(y.$id,v):$&&$("dashboard")}catch(y){if(y.code===429)p(y.userMessage||"Too many login attempts. Please wait and try again."),z(y.userMessage||"Too many attempts. Please wait.","error");else{const x=y.message||"Sign in failed. Please check your credentials.";p(x),z(x,"error")}}finally{S(!1)}},ue=async n=>{n.preventDefault(),p(""),S(!0);const d=f.validateText(D,{required:!0,minLength:2,maxLength:100}),P=f.validateEmail(v),y=f.validatePassword(b);if(!d.isValid||!P.isValid||!y.isValid){U(d.error||""),E(P.error||""),T(y.error||""),Y(!0),C(!0),O(!0),p("Please fix the errors above"),S(!1);return}try{try{await k.getSession("current")&&await k.deleteSession("current")}catch{}await ye(P.sanitized,b,d.sanitized),await oe(P.sanitized,b);const x=await k.get();z("Account created successfully! Welcome!","success"),e?e(x.$id,v):$&&$("dashboard")}catch(x){if(x.code===429)p(x.userMessage||"Too many registration attempts. Please wait and try again."),z(x.userMessage||"Too many attempts. Please wait.","error");else{const F=x.message||"Sign up failed. Please try again.";p(F),z(F,"error")}}finally{S(!1)}};return r.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col overflow-hidden fixed inset-0",children:[r.jsx(pe,{pageNumber:5,pageName:"FacialPortalPage",isLocked:!1}),r.jsx("header",{className:"bg-white p-4 shadow-md z-[9997] flex-shrink-0",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:[r.jsx("span",{className:"text-black",children:"Inda"}),r.jsx("span",{className:"text-orange-500",children:"Street"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[r.jsx("button",{onClick:()=>ee(!0),title:"Menu",children:r.jsx(ge,{className:"w-6 h-6"})}),r.jsx("button",{onClick:o,title:"Go to Home",className:"hover:text-orange-500 transition-colors",children:r.jsx(he,{className:"w-5 h-5"})})]})]})}),r.jsx(we,{condition:Q,children:r.jsx(xe,{isOpen:Q,onClose:()=>ee(!1),t,onMassageJobsClick:s,onHotelPortalClick:a,onVillaPortalClick:i,onTherapistPortalClick:g,onMassagePlacePortalClick:l,onFacialPortalClick:u,onAgentPortalClick:h,onCustomerPortalClick:w,onAdminPortalClick:M,onNavigate:$,onTermsClick:ne,onPrivacyClick:le,therapists:[],places:[]})}),r.jsx("main",{className:"flex-1 flex items-start justify-center px-4 py-2 overflow-hidden relative bg-cover bg-center bg-no-repeat min-h-0",style:{backgroundImage:"url(https://ik.imagekit.io/7grri5v7d/facial%20clinic.png?updatedAt=1764957334008)"},children:r.jsxs("div",{className:"max-w-md w-full relative z-10 max-h-full  pt-4 sm:pt-6",style:{scrollbarWidth:"none",msOverflowStyle:"none",overscrollBehavior:"contain"},children:[r.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[r.jsx("h2",{className:"text-4xl sm:text-5xl font-bold mb-2 sm:mb-3 text-gray-800 drop-shadow-lg",children:"Facial Spa"}),r.jsx("p",{className:"text-gray-600 text-xs sm:text-sm drop-shadow",children:"Manage your facial spa bookings and services"})]}),r.jsx("div",{className:"mb-3 sm:mb-4 min-h-[50px] flex items-center",children:B&&r.jsx("div",{className:"w-full p-2 sm:p-3 rounded-lg text-sm ".concat(B.includes("âœ…")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"),children:B})}),r.jsxs("div",{className:"flex mb-4 sm:mb-6 bg-white/95 backdrop-blur-sm rounded-lg p-1 border border-white/20 shadow-lg",children:[r.jsx("button",{onClick:()=>{H("login"),p("")},className:"flex-1 py-3 px-4 rounded-lg transition-all font-medium ".concat(L==="login"?"bg-orange-500 text-white shadow-sm":"text-gray-700 hover:text-orange-500 hover:bg-orange-50/80"),children:"Sign In"}),r.jsx("button",{onClick:()=>{H("register"),p("")},className:"flex-1 py-3 px-4 rounded-lg transition-all font-medium ".concat(L==="register"?"bg-orange-500 text-white shadow-sm":"text-gray-700 hover:text-orange-500 hover:bg-orange-50/80"),children:"Create Account"})]}),L==="login"&&r.jsxs("form",{onSubmit:ce,className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2 drop-shadow",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-500 w-5 h-5 z-10"}),r.jsx("input",{type:"email",value:v,onChange:n=>{if(G(n.target.value),R){const d=f.validateEmail(n.target.value);E(d.isValid?"":d.error||"")}},onBlur:()=>{C(!0);const n=f.validateEmail(v);E(n.isValid?"":n.error||"")},placeholder:"Enter your email",className:"w-full pl-12 pr-4 py-3 rounded-xl border ".concat(R&&V?"border-red-400 bg-red-50/95":"border-white/20"," focus:ring-2 focus:ring-orange-400/50 focus:border-orange-400 transition-all bg-white/95 backdrop-blur-sm text-gray-900 placeholder-gray-500 shadow-lg"),required:!0}),R&&V&&r.jsx("p",{className:"text-red-600 text-sm mt-1 drop-shadow",children:V})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2 drop-shadow",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-500 w-5 h-5 z-10"}),r.jsx("input",{type:N?"text":"password",value:b,onChange:n=>{if(K(n.target.value),q){const d=f.validatePassword(n.target.value);T(d.isValid?"":d.error||"")}},onBlur:()=>{O(!0);const n=f.validatePassword(b);T(n.isValid?"":n.error||"")},placeholder:"Enter your password",className:"w-full pl-12 pr-12 py-3 rounded-xl border ".concat(q&&J?"border-red-400 bg-red-50/95":"border-white/20"," focus:ring-2 focus:ring-orange-400/50 focus:border-orange-400 transition-all bg-white/95 backdrop-blur-sm text-gray-900 placeholder-gray-500 shadow-lg"),required:!0}),r.jsx("button",{type:"button",onClick:()=>X(!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-orange-500 hover:text-orange-400 transition-colors z-10",children:N?r.jsx(se,{className:"w-5 h-5"}):r.jsx(ae,{className:"w-5 h-5"})})]})]}),r.jsx("button",{type:"submit",disabled:I,className:"w-full py-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl backdrop-blur-sm disabled:opacity-50 disabled:cursor-not-allowed",children:I?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Signing In..."]}):r.jsx("div",{className:"flex items-center justify-center gap-2",children:"ðŸ”‘ Sign In to Facial Spa"})})]}),L==="register"&&r.jsxs("form",{onSubmit:ue,className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2 drop-shadow",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-500 w-5 h-5 z-10"}),r.jsx("input",{type:"text",value:D,onChange:n=>{if(de(n.target.value),Z){const d=f.validateText(n.target.value,{required:!0,minLength:2,maxLength:100});U(d.isValid?"":d.error||"")}},onBlur:()=>{Y(!0);const n=f.validateText(D,{required:!0,minLength:2,maxLength:100});U(n.isValid?"":n.error||"")},placeholder:"Enter your full name",className:"w-full pl-12 pr-4 py-3 rounded-xl border ".concat(Z&&W?"border-red-400 bg-red-50/95":"border-white/20"," focus:ring-2 focus:ring-orange-400/50 focus:border-orange-400 transition-all bg-white/95 backdrop-blur-sm text-gray-900 placeholder-gray-500 shadow-lg"),required:!0}),Z&&W&&r.jsx("p",{className:"text-red-600 text-sm mt-1 drop-shadow",children:W})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2 drop-shadow",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-500 w-5 h-5 z-10"}),r.jsx("input",{type:"email",value:v,onChange:n=>{if(G(n.target.value),R){const d=f.validateEmail(n.target.value);E(d.isValid?"":d.error||"")}},onBlur:()=>{C(!0);const n=f.validateEmail(v);E(n.isValid?"":n.error||"")},placeholder:"Enter your email",className:"w-full pl-12 pr-4 py-3 rounded-xl border ".concat(R&&V?"border-red-400 bg-red-50/95":"border-white/20"," focus:ring-2 focus:ring-orange-400/50 focus:border-orange-400 transition-all bg-white/95 backdrop-blur-sm text-gray-900 placeholder-gray-500 shadow-lg"),required:!0}),R&&V&&r.jsx("p",{className:"text-red-600 text-sm mt-1 drop-shadow",children:V})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2 drop-shadow",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-500 w-5 h-5 z-10"}),r.jsx("input",{type:N?"text":"password",value:b,onChange:n=>{if(K(n.target.value),q){const d=f.validatePassword(n.target.value);T(d.isValid?"":d.error||"")}},onBlur:()=>{O(!0);const n=f.validatePassword(b);T(n.isValid?"":n.error||"")},placeholder:"Create a password (min 8 characters)",className:"w-full pl-12 pr-12 py-3 rounded-xl border ".concat(q&&J?"border-red-400 bg-red-50/95":"border-white/20"," focus:ring-2 focus:ring-orange-400/50 focus:border-orange-400 transition-all bg-white/95 backdrop-blur-sm text-gray-900 placeholder-gray-500 shadow-lg"),required:!0}),r.jsx("button",{type:"button",onClick:()=>X(!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-orange-500 hover:text-orange-400 transition-colors z-10",children:N?r.jsx(se,{className:"w-5 h-5"}):r.jsx(ae,{className:"w-5 h-5"})})]})]}),r.jsx("button",{type:"submit",disabled:I,className:"w-full py-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-xl hover:shadow-2xl backdrop-blur-sm disabled:opacity-50 disabled:cursor-not-allowed",children:I?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating Account..."]}):r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(ie,{className:"w-5 h-5 mr-2"}),"Create Facial Spa Account"]})})]})]})}),r.jsx("style",{children:"\n        .max-w-md::-webkit-scrollbar {\n          display: none;\n        }\n        @media (max-height: 600px) {\n          .space-y-4 > * + * {\n            margin-top: 0.75rem;\n          }\n          .space-y-6 > * + * {\n            margin-top: 1rem;\n          }\n        }\n      "})]})},Ve=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"}));export{Ve as F,pe as P,we as R,ye as a,oe as c};
