import{a,j as e,J as he,h as j,v as B,M as pe,P as ue,a5 as I,aj as O,at as W,N as be,p as fe,X as je,ad as ye}from"./vendor-react.DJgHGAhw.js";import{B as we,e as Ne,d as y,o as w,C as N,a as ve,S as F}from"./route-therapist.DVVqC6AH.js";import{ID as M}from"./vendor-appwrite.BT2H32tF.js";import"./route-booking.yuk30L8G.js";import"./vendor-misc.BCNplu90.js";import"./route-portals.BJGRQhN_.js";const Ee=({partnerId:l="1",partnerType:i,onNavigate:o,onBack:G,onMassageJobsClick:_,onHotelPortalClick:q,onVillaPortalClick:H,onTherapistPortalClick:$,onMassagePlacePortalClick:z,onAgentPortalClick:J,onCustomerPortalClick:K,onAdminPortalClick:Q,onTermsClick:V,onPrivacyClick:X,therapists:Y=[],places:Z=[],t:ee})=>{const[se,v]=a.useState(!1),[S,P]=a.useState(!1),[te,h]=a.useState(!1),[d,A]=a.useState(""),[ae,re]=a.useState(""),[k,C]=a.useState(""),[R,E]=a.useState(""),[c,U]=a.useState(""),[p,D]=a.useState(""),[m,L]=a.useState(""),[x,u]=a.useState(""),[le,ie]=a.useState(""),[ne,oe]=a.useState(""),[r,b]=a.useState([]),[g,T]=a.useState(""),de=i==="hotel"?["Room Service","Spa","Pool","Gym","Restaurant","Laundry","Airport Transfer","WiFi","Parking","24/7 Reception"]:["Private Pool","Chef Service","Spa","Garden","Concierge","Housekeeping","BBQ Area","WiFi","Parking","Security"];a.useEffect(()=>{(async()=>{if(l)try{const t=await y.getDocument(w,N.PARTNERS,l);A(t.name||""),re(t.email||""),C(t.websiteUrl||""),E(t.websiteTitle||""),U(t.description||""),D(t.location||""),L(t.phone||""),u(t.imageUrl||""),ie(t.websitePreview||""),oe(t.password||""),b(t.amenities?t.amenities.split(","):[])}catch{}})()},[l,i]);const f=s=>{s&&!r.includes(s)&&r.length<10&&(b([...r,s]),T(""))},ce=s=>{b(r.filter(t=>t!==s))},me=async s=>{try{const t=await ve.createFile(F.PARTNER_IMAGES,M.unique(),s),n="https://syd.cloud.appwrite.io/v1/storage/buckets/".concat(F.PARTNER_IMAGES,"/files/").concat(t.$id,"/view?project=68f23b11000d25eb3664");return u(n),n}catch(t){throw t}},xe=async()=>{P(!0),h(!1);try{const s={name:d,websiteUrl:k||"",websiteTitle:R||"",description:c||"",location:p,phone:m,email:ae||"",whatsapp:m||"",imageUrl:x||"",amenities:r.join(","),category:i,verfied:!1,websitePreview:le||"",password:ne||"changeme123",addeddate:new Date().toISOString(),updateat:new Date().toISOString()};l?await y.updateDocument(w,N.PARTNERS,l,s):await y.createDocument(w,N.PARTNERS,M.unique(),s),h(!0),setTimeout(()=>h(!1),3e3)}catch{alert("Failed to save settings. Please try again.")}finally{P(!1)}};return e.jsxs("div",{className:"min-h-[calc(100vh-env(safe-area-inset-top)-env(safe-area-inset-bottom))] bg-gradient-to-br from-orange-50 via-white to-amber-50",children:[e.jsx("div",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("button",{onClick:G||(()=>o==null?void 0:o("website-management")),className:"flex items-center gap-2 text-gray-700 hover:text-orange-600 transition-colors",children:[e.jsx(he,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-amber-600 flex items-center justify-center shadow-lg",children:e.jsx(j,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[i==="hotel"?"Hotel":"Villa"," Settings"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manage your partner profile"})]})]}),e.jsx("button",{onClick:()=>v(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(we,{})})]})})}),e.jsx(Ne,{isOpen:se,onClose:()=>v(!1),onMassageJobsClick:_,onHotelPortalClick:q,onVillaPortalClick:H,onTherapistPortalClick:$,onMassagePlacePortalClick:z,onAgentPortalClick:J,onCustomerPortalClick:K,onAdminPortalClick:Q,onNavigate:o,onTermsClick:V,onPrivacyClick:X,therapists:Y,places:Z,t:ee}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-8",children:[te&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3 animate-fade-in",children:[e.jsx(B,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-green-900",children:"Settings Saved Successfully!"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your changes are now live on the Partners page."})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 px-6 py-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5"}),"Basic Information"]}),e.jsx("p",{className:"text-sm text-orange-50 mt-1",children:"Details shown on your partner card"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(j,{className:"w-4 h-4 text-orange-500"}),i==="hotel"?"Hotel":"Villa"," Name *"]}),e.jsx("input",{type:"text",value:d,onChange:s=>A(s.target.value),placeholder:"Enter your property name",maxLength:50,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.length,"/50 characters (displayed on card)"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(pe,{className:"w-4 h-4 text-red-500"}),"Location *"]}),e.jsx("input",{type:"text",value:p,onChange:s=>D(s.target.value),placeholder:"e.g., Seminyak, Bali",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be displayed under your property name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(ue,{className:"w-4 h-4 text-green-500"}),"WhatsApp Number *"]}),e.jsx("input",{type:"tel",value:m,onChange:s=>L(s.target.value),placeholder:"+62 812 3456 7890",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Used for "Book Reservation" button (WhatsApp direct message)'})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(I,{className:"w-4 h-4 text-blue-500"}),"Description *"]}),e.jsx("textarea",{value:c,onChange:s=>U(s.target.value),placeholder:"Describe your property and massage services...",maxLength:500,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all resize-none"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.length,"/500 characters"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 px-6 py-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5"}),"Website Information"]}),e.jsx("p",{className:"text-sm text-purple-50 mt-1",children:"Optional website details"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(O,{className:"w-4 h-4 text-purple-500"}),"Website URL"]}),e.jsx("input",{type:"url",value:k,onChange:s=>C(s.target.value),placeholder:"https://yourhotel.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional - Link to your website"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(I,{className:"w-4 h-4 text-purple-500"}),"Website Title"]}),e.jsx("input",{type:"text",value:R,onChange:s=>E(s.target.value),placeholder:"Luxury Resort & Spa",maxLength:100,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional tagline for your website"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 px-6 py-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),"Property Images"]}),e.jsx("p",{className:"text-sm text-blue-50 mt-1",children:"Profile picture displayed on your card"})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Current Profile Picture"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden border-2 border-gray-200 shadow-md flex-shrink-0",children:x?e.jsx("img",{src:x,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:e.jsx(W,{className:"w-12 h-12 text-gray-400"})})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 px-4 py-3 bg-blue-50 border-2 border-dashed border-blue-300 rounded-lg hover:bg-blue-100 transition-colors cursor-pointer",children:[e.jsx(be,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Upload New Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:async s=>{var n;const t=(n=s.target.files)==null?void 0:n[0];if(t)try{const ge=await me(t)}catch{alert("Failed to upload image. Please try again.")}},className:"hidden"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, or WebP (max 5MB)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Or paste image URL"}),e.jsx("input",{type:"url",value:x,onChange:s=>u(s.target.value),placeholder:"https://yourhotel.com/image.jpg",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 px-6 py-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5"}),"Amenities & Services"]}),e.jsx("p",{className:"text-sm text-emerald-50 mt-1",children:"Show up to 5 amenities on your card"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:["Selected Amenities (",r.length,"/10)"]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.map(s=>e.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 text-emerald-700 px-3 py-2 rounded-lg border border-emerald-200",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:s}),e.jsx("button",{onClick:()=>ce(s),className:"ml-1 hover:text-emerald-900 transition-colors",children:e.jsx(je,{className:"w-4 h-4"})})]},s)),r.length===0&&e.jsx("p",{className:"text-gray-500 text-sm italic",children:"No amenities added yet"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Add Custom Amenity"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g,onChange:s=>T(s.target.value),onKeyPress:s=>s.key==="Enter"&&f(g),placeholder:"Enter amenity name",maxLength:30,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",disabled:r.length>=10}),e.jsx("button",{onClick:()=>f(g),disabled:!g||r.length>=10,className:"px-6 py-3 bg-emerald-500 text-white rounded-lg font-semibold hover:bg-emerald-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all",children:"Add"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Quick Add (Suggested)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:de.filter(s=>!r.includes(s)).map(s=>e.jsxs("button",{onClick:()=>f(s),disabled:r.length>=10,className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg border border-gray-300 hover:bg-emerald-50 hover:border-emerald-300 hover:text-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm",children:["+ ",s]},s))})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"Note:"})," Only the first 5 amenities will be displayed on your partner card. Choose your most important services."]})})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur-sm border-t border-gray-200 shadow-lg rounded-t-2xl p-6",children:[e.jsx("button",{onClick:xe,disabled:S||!d||!p||!m||!c,className:"w-full flex items-center justify-center gap-3 bg-gradient-to-r from-orange-500 to-amber-500 text-white font-bold py-4 px-6 rounded-xl hover:from-orange-600 hover:to-amber-600 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Saving Changes..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-5 h-5"}),e.jsx("span",{children:"Save Partner Settings"})]})}),e.jsx("p",{className:"text-center text-xs text-gray-500 mt-3",children:"* Required fields must be filled before saving"})]})]})]})};export{Ee as default};
