import"./vendor-react.DJgHGAhw.js";class b{static checkStatus(){const t=navigator.userAgent,e=/iPad|iPhone|iPod/.test(t),o=/Android/i.test(t),n=e||o;let i="other";e?i="ios":o?i="android":n||(i="desktop");const r=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||localStorage.getItem("pwa-install-completed")==="true"||localStorage.getItem("pwa-installed")==="true",l=!!window.deferredPrompt,d="serviceWorker"in navigator,p=!!document.querySelector('link[rel="manifest"]'),c=location.protocol==="https:"||location.hostname==="localhost",a=d&&p&&c&&!r,m=a&&(l||e);let s="unavailable";l?s="native":e&&a||o&&a?s="manual":a||(s="unavailable");const g="Notification"in window&&Notification.permission==="granted";return{isInstalled:r,isInstallable:m,canInstall:a,platform:i,installMethod:s,hasNotificationPermission:g,needsServiceWorker:!d}}static getInstallationInstructions(t){if(t.isInstalled)return"‚úÖ App is already installed and ready to use!";if(!t.canInstall)return t.needsServiceWorker?"‚ö†Ô∏è PWA installation not supported on this browser.":"‚ö†Ô∏è PWA installation requires HTTPS and a web manifest.";switch(t.platform){case"ios":return'üì± iOS: Tap Share (‚¨ÜÔ∏è) ‚Üí "Add to Home Screen" ‚Üí "Add"';case"android":return t.installMethod==="native"?'üì± Android: Tap the install button or browser menu ‚Üí "Install app"':'üì± Android: Browser menu (‚ãÆ) ‚Üí "Add to Home screen"';default:return t.installMethod==="native"?"üíª Desktop: Click the install button or look for install prompt":'üíª Desktop: Browser menu ‚Üí "Install [App Name]"'}}static async triggerInstallation(){const t=this.checkStatus();if(t.isInstalled)return{success:!1,error:"App is already installed"};if(!t.canInstall)return{success:!1,error:"Installation not available: "+this.getInstallationInstructions(t)};const e=window.deferredPrompt;if(e&&t.installMethod==="native")try{return await e.prompt(),(await e.userChoice).outcome==="accepted"?(localStorage.setItem("pwa-install-completed","true"),localStorage.setItem("pwa-installed","true"),"Notification"in window&&Notification.permission==="default"&&setTimeout(async()=>{await Notification.requestPermission()},1e3),{success:!0,result:"accepted"}):{success:!1,result:"dismissed"}}catch(o){return{success:!1,error:"Installation failed: ".concat(o.message)}}return t.installMethod==="manual"?(t.platform==="ios"?this.showIOSInstallationModal():t.platform==="android"?this.showAndroidInstallationModal():this.showDesktopInstallationModal(),{success:!0,result:"manual-instructions-shown"}):{success:!1,error:"No installation method available"}}static showIOSInstallationModal(){const t=document.createElement("div");t.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.8);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 10000;\n      padding: 20px;\n      box-sizing: border-box;\n    ",t.innerHTML='\n      <div style="\n        background: white;\n        border-radius: 16px;\n        padding: 24px;\n        max-width: 350px;\n        width: 100%;\n        text-align: center;\n        box-shadow: 0 20px 40px rgba(0,0,0,0.3);\n        animation: slideUp 0.3s ease-out;\n      ">\n        <div style="font-size: 48px; margin-bottom: 16px;">üì±</div>\n        <h3 style="margin: 0 0 16px 0; color: #1f2937; font-size: 18px; font-weight: 600;">Install App</h3>\n        <div style="text-align: left; margin-bottom: 24px; color: #6b7280; line-height: 1.6;">\n          <p style="margin: 0 0 12px 0; font-weight: 600;">To install on iOS:</p>\n          <div style="background: #f3f4f6; padding: 16px; border-radius: 8px; margin-bottom: 16px;">\n            <p style="margin: 0 0 8px 0;">1. Tap the Share button <span style="font-size: 20px;">‚¨ÜÔ∏è</span></p>\n            <p style="margin: 0 0 8px 0;">2. Scroll down to find <strong>"Add to Home Screen"</strong></p>\n            <p style="margin: 0;">3. Tap <strong>"Add"</strong> to install</p>\n          </div>\n          <p style="margin: 0; font-size: 14px; color: #9ca3af;">The app will appear on your home screen with offline access.</p>\n        </div>\n        <button onclick="this.closest(\'div[style*=fixed]\').remove()" style="\n          background: linear-gradient(135deg, #f97316, #ea580c);\n          color: white;\n          border: none;\n          padding: 14px 24px;\n          border-radius: 8px;\n          cursor: pointer;\n          font-weight: 600;\n          width: 100%;\n          font-size: 16px;\n          box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);\n        ">Got it!</button>\n      </div>\n      <style>\n        @keyframes slideUp {\n          from { transform: translateY(20px); opacity: 0; }\n          to { transform: translateY(0); opacity: 1; }\n        }\n      </style>\n    ',document.body.appendChild(t),t.addEventListener("click",e=>{e.target===t&&t.remove()}),setTimeout(()=>{t.parentNode&&t.remove()},3e4)}static showAndroidInstallationModal(){var o;const t=document.createElement("div");t.setAttribute("data-pwa-manual-modal","android"),t.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.8);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 10000;\n      padding: 20px;\n      box-sizing: border-box;\n    ",t.innerHTML='\n      <div style="\n        background: white;\n        border-radius: 16px;\n        padding: 24px;\n        max-width: 360px;\n        width: 100%;\n        text-align: center;\n        box-shadow: 0 20px 40px rgba(0,0,0,0.3);\n        animation: slideUp 0.3s ease-out;\n      ">\n        <div style="font-size: 48px; margin-bottom: 16px;">üì±</div>\n        <h3 style="margin: 0 0 16px 0; color: #1f2937; font-size: 18px; font-weight: 600;">Add to Home Screen (Android)</h3>\n        <div style="text-align: left; margin-bottom: 24px; color: #6b7280; line-height: 1.6;">\n          <p style="margin: 0 0 12px 0; font-weight: 600;">If the install button didn‚Äôt work:</p>\n          <div style="background: #f3f4f6; padding: 16px; border-radius: 8px; margin-bottom: 12px;">\n            <p style="margin: 0 0 8px 0;"><strong>Chrome:</strong></p>\n            <p style="margin: 0 0 8px 0;">1. Tap <strong>‚ãÆ</strong> (menu) at top right</p>\n            <p style="margin: 0 0 8px 0;">2. Tap <strong>"Install app"</strong> or <strong>"Add to Home screen"</strong></p>\n            <p style="margin: 0 0 12px 0;">Or tap the <strong>‚äï Install</strong> icon in the address bar if you see it.</p>\n            <p style="margin: 0 0 8px 0;"><strong>Samsung Internet:</strong></p>\n            <p style="margin: 0 0 8px 0;">Menu ‚Üí <strong>Add page to</strong> ‚Üí <strong>Home screen</strong></p>\n          </div>\n          <p style="margin: 0; font-size: 14px; color: #9ca3af;">Then open the app from your home screen for notifications and sounds.</p>\n        </div>\n        <button type="button" style="\n          background: linear-gradient(135deg, #f97316, #ea580c);\n          color: white;\n          border: none;\n          padding: 14px 24px;\n          border-radius: 8px;\n          cursor: pointer;\n          font-weight: 600;\n          width: 100%;\n          font-size: 16px;\n          box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);\n        ">Got it!</button>\n      </div>\n      <style>\n        @keyframes slideUp {\n          from { transform: translateY(20px); opacity: 0; }\n          to { transform: translateY(0); opacity: 1; }\n        }\n      </style>\n    ',document.body.appendChild(t);const e=()=>{t.parentNode&&t.remove()};(o=t.querySelector("button"))==null||o.addEventListener("click",e),t.addEventListener("click",n=>{n.target===t&&e()}),setTimeout(()=>{t.parentNode&&t.remove()},3e4)}static showDesktopInstallationModal(){var n;const t=document.createElement("div");t.setAttribute("data-pwa-manual-modal","desktop"),t.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.8);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 10000;\n      padding: 20px;\n      box-sizing: border-box;\n    ";const e=this.getInstallationInstructions(this.checkStatus());t.innerHTML='\n      <div style="\n        background: white;\n        border-radius: 16px;\n        padding: 24px;\n        max-width: 360px;\n        width: 100%;\n        text-align: center;\n        box-shadow: 0 20px 40px rgba(0,0,0,0.3);\n      ">\n        <div style="font-size: 48px; margin-bottom: 16px;">üíª</div>\n        <h3 style="margin: 0 0 16px 0; color: #1f2937; font-size: 18px; font-weight: 600;">Install app</h3>\n        <div style="text-align: left; margin-bottom: 24px; color: #6b7280; line-height: 1.6; white-space: pre-line;">'.concat(e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),'</div>\n        <button type="button" style="\n          background: linear-gradient(135deg, #f97316, #ea580c);\n          color: white;\n          border: none;\n          padding: 14px 24px;\n          border-radius: 8px;\n          cursor: pointer;\n          font-weight: 600;\n          width: 100%;\n          font-size: 16px;\n        ">Got it!</button>\n      </div>\n    '),document.body.appendChild(t);const o=()=>{t.parentNode&&t.remove()};(n=t.querySelector("button"))==null||n.addEventListener("click",o),t.addEventListener("click",i=>{i.target===t&&o()}),setTimeout(()=>{t.parentNode&&t.remove()},3e4)}static markAsInstalled(){localStorage.setItem("pwa-install-completed","true"),localStorage.setItem("pwa-installed","true")}static clearInstallationStatus(){localStorage.removeItem("pwa-install-completed"),localStorage.removeItem("pwa-installed"),localStorage.removeItem("pwa-added-to-homescreen")}}let u;try{u=require("react")}catch{}export{b as PWAInstallationStatusChecker};
