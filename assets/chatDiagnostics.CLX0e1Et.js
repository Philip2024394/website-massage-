import{aa as r,A as a,d as o,ab as c,ac as i}from"./route-therapist.DVVqC6AH.js";import{Query as n}from"./vendor-appwrite.BT2H32tF.js";import"./vendor-react.DJgHGAhw.js";import"./route-booking.yuk30L8G.js";import"./vendor-misc.BCNplu90.js";import"./route-portals.BJGRQhN_.js";async function p(){const s=[];let t="OK";try{const e=await r.get("/health");s.push({service:"Appwrite Client",status:"OK",message:"Client connection established",details:{endpoint:a.endpoint}})}catch(e){s.push({service:"Appwrite Client",status:"ERROR",message:"Client connection failed: ".concat(e.message),details:{error:e}}),t="ERROR"}try{await o.get(a.databaseId),s.push({service:"Appwrite Database",status:"OK",message:"Database accessible",details:{databaseId:a.databaseId}})}catch(e){s.push({service:"Appwrite Database",status:"ERROR",message:"Database access failed: ".concat(e.message),details:{error:e}}),t="ERROR"}try{await o.listDocuments(a.databaseId,a.collections.bookings,[n.limit(1)]),s.push({service:"Booking Collection",status:"OK",message:"Booking collection accessible",details:{collectionId:a.collections.bookings}})}catch(e){s.push({service:"Booking Collection",status:"ERROR",message:"Booking collection access failed: ".concat(e.message),details:{error:e,collectionId:a.collections.bookings}}),t="ERROR"}try{if(!c)throw new Error("Chat service not initialized");s.push({service:"Chat Service",status:"OK",message:"Chat service initialized successfully",details:{available:!0}})}catch(e){s.push({service:"Chat Service",status:"ERROR",message:"Chat service initialization failed: ".concat(e.message),details:{error:e}}),t="ERROR"}try{if(!i||!i.createBooking)throw new Error("Booking service not properly initialized");s.push({service:"Booking Service",status:"OK",message:"Booking service available",details:{hasCreateBooking:!!i.createBooking}})}catch(e){s.push({service:"Booking Service",status:"ERROR",message:"Booking service test failed: ".concat(e.message),details:{error:e}}),t="ERROR"}return{overall:t,results:s,timestamp:new Date().toISOString()}}function v(s){s.results.forEach((t,e)=>{t.status==="OK"||t.status,t.details})}export{v as displayDiagnostics,p as runSystemDiagnostics};
