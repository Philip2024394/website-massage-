var o=Object.defineProperty;var i=(n,t,e)=>t in n?o(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var s=(n,t,e)=>i(n,typeof t!="symbol"?t+"":t,e);const u={whatsappSent:{name:"WhatsApp Sent",path:"/sounds/whatsapp-sent.mp3",volume:.6},chatOpened:{name:"Chat Opened",path:"/sounds/chat-opened.mp3",volume:.5},messageReceived:{name:"Message Received",path:"/sounds/message-received.mp3",volume:.5},messageSent:{name:"Message Sent",path:"/sounds/message-sent.mp3",volume:.4},bookingAccepted:{name:"Booking Accepted",path:"/sounds/booking-accepted.mp3",volume:.7},bookingDeclined:{name:"Booking Declined",path:"/sounds/booking-declined.mp3",volume:.6},timeoutWarning:{name:"Timeout Warning",path:"/sounds/timeout-warning.mp3",volume:.7},chatExpired:{name:"Chat Expired",path:"/sounds/chat-expired.mp3",volume:.5}};class d{constructor(){s(this,"audioElements",new Map);s(this,"isMuted",!1);this.preloadSounds()}preloadSounds(){Object.entries(u).forEach(([t,e])=>{try{const a=new Audio(e.path);a.preload="auto",a.volume=e.volume,this.audioElements.set(t,a)}catch{}})}async play(t,e){if(this.isMuted)return;const a=this.audioElements.get(t);if(a)try{a.currentTime=0,e!==void 0&&(a.volume=Math.max(0,Math.min(1,e))),await a.play()}catch{}}async playSequence(t){for(const e of t)await new Promise(a=>setTimeout(a,e.delay)),await this.play(e.soundKey,e.volume)}mute(){this.isMuted=!0}unmute(){this.isMuted=!1}toggleMute(){return this.isMuted=!this.isMuted,this.isMuted}isSoundMuted(){return this.isMuted}setGlobalVolume(t){const e=Math.max(0,Math.min(1,t));this.audioElements.forEach(a=>{a.volume=e})}}const m=new d;async function l(){await m.playSequence([{soundKey:"whatsappSent",delay:0,volume:.6},{soundKey:"chatOpened",delay:800,volume:.5}])}export{l as playBookingNotificationSequence,m as soundService};
