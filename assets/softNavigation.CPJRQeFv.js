function r(){try{const t=["auth_token","user_data","booking_draft","selected_language","user_preferences"],a={};t.forEach(e=>{a[e]=localStorage.getItem(e)}),["app_error","crash_count","error_timestamp"].forEach(e=>{localStorage.removeItem(e)}),window.dispatchEvent(new CustomEvent("app:soft-recover",{detail:{timestamp:Date.now()}}));const o=window.location.pathname;o!=="/"&&o!==""&&(window.history.pushState({},"","/"),window.dispatchEvent(new PopStateEvent("popstate"))),window.scrollTo(0,0),n("App recovered successfully","success")}catch{n("Reloading app...","info"),setTimeout(()=>{window.location.reload()},1e3)}}function n(t,a){if(document.getElementById("recovery-toast"))return;const o={success:"bg-green-500",info:"bg-blue-500",error:"bg-red-500"},e=document.createElement("div");e.id="recovery-toast",e.className="fixed top-4 right-4 ".concat(o[a]," text-white px-6 py-3 rounded-lg shadow-lg z-[99999] animate-fade-in"),e.style.animation="slideInRight 0.3s ease-out",e.textContent=t,document.body.appendChild(e),setTimeout(()=>{e.style.animation="slideOutRight 0.3s ease-in",setTimeout(()=>e.remove(),300)},3e3)}export{r as softRecover};
