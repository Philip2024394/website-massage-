import{a as c,m as w,h as T,d as E,j as e,J as I,H as S,O as M,v as x,Q as D,V as F,W as z,t as H}from"./vendor-react.DJgHGAhw.js";import{t as L,p as v}from"./App.1fxTHtx8.js";import{B as U,e as V}from"./route-therapist.DVVqC6AH.js";import{P as Y}from"./route-portals.BJGRQhN_.js";import"./vendor-misc.BCNplu90.js";import"./vendor-ui.D6Y-8hbd.js";import"./vendor-appwrite.BT2H32tF.js";import"./route-booking.yuk30L8G.js";import"./route-payment.T2FKxZVj.js";const q=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Q=({onNavigate:a,onBack:u,onNavigateHome:p})=>{const[s,o]=c.useState({email:"",name:"",whatsappNumber:"",accountType:null,password:"",termsAccepted:!1,profilePhotoAgreed:!1}),[m,P]=c.useState(!1),[g,f]=c.useState(!1),[b,r]=c.useState(null),[C,j]=c.useState(!1),[k,y]=c.useState(!1),N=[{type:"massage_therapist",title:"Massage Therapist",icon:w,color:"text-blue-500",bgColor:"bg-blue-50 border-blue-200",description:"Individual massage therapist"},{type:"massage_place",title:"Massage Place",icon:T,color:"text-orange-500",bgColor:"bg-orange-50 border-orange-200",description:"Massage spa or wellness center"},{type:"facial_place",title:"Facial Place",icon:E,color:"text-purple-500",bgColor:"bg-purple-50 border-purple-200",description:"Facial spa or beauty clinic"}],A=async t=>{t.preventDefault(),r(null);const n=s.email.trim().toLowerCase(),i=s.name.trim(),d=s.whatsappNumber.trim().replace(/\D/g,"");if(!n){r("Please enter your email address");return}if(!q.test(n)){r("Please enter a valid email address");return}if(!i){r("Please enter your name");return}if(!d){r("Please enter your WhatsApp number");return}if(d.length<9||d.length>13){r("Please enter a valid WhatsApp number (9-13 digits)");return}if(!s.accountType){r("Please select a portal type");return}if(!s.password){r("Please enter a password");return}if(s.password.length<8){r("Password must be at least 8 characters long");return}if(!s.termsAccepted){r("Please accept the Terms and Conditions");return}if(!s.profilePhotoAgreed){r("Please accept the Profile Photo Policy");return}f(!0);try{let l;const h="+62"+d;if(s.accountType==="massage_therapist"){if(l=await L.signUp(n,s.password,i,h),l.success){r(null),alert("Account created successfully! Please sign in to continue."),a?a("sign-in"):window.location.href="/login";return}}else if(s.accountType==="massage_place"){if(l=await v.signUp(n,s.password,i,h),l.success){r(null),alert("Account created successfully! Please sign in to continue."),a?a("sign-in"):window.location.href="/login";return}}else if(s.accountType==="facial_place"&&(l=await v.signUp(n,s.password,i,h),l.success)){r(null),alert("Account created successfully! Please sign in to continue."),a?a("sign-in"):window.location.href="/login";return}r((l==null?void 0:l.error)||"Failed to create account: "+((l==null?void 0:l.error)||"Unknown error"))}catch(l){r("Failed to create account: "+(l.message||"An error occurred while creating your account"))}finally{f(!1)}};return N.find(t=>t.type===s.accountType),e.jsxs("div",{className:"min-h-[calc(100vh-env(safe-area-inset-top)-env(safe-area-inset-bottom))] bg-gradient-to-br from-orange-400 via-orange-500 to-red-600 relative overflow-hidden",children:[e.jsx(Y,{pageNumber:999,pageName:"CreateAccountPage",isLocked:!1}),e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='m36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}}),e.jsxs("header",{className:"relative z-10 p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[u&&e.jsx("button",{onClick:u,className:"p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors text-white",children:e.jsx(I,{className:"w-5 h-5"})}),e.jsxs("h1",{className:"text-2xl font-bold text-white",children:[e.jsx("span",{children:"Inda"}),e.jsx("span",{className:"text-orange-200",children:"Street"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[p&&e.jsx("button",{onClick:p,className:"p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors text-white",children:e.jsx(S,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>j(!0),className:"p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors text-white",children:e.jsx(U,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-[calc(100vh-80px)] p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),e.jsx("p",{className:"text-gray-600",children:"Join IndaStreet as a service provider"})]}),b&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:b}),e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(M,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",type:"email",value:s.email,onChange:t=>o({...s,email:t.target.value}),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"your@email.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(w,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"name",type:"text",value:s.name,onChange:t=>o({...s,name:t.target.value}),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Your full name",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"whatsapp",className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500 font-medium",children:"+62"}),e.jsx("input",{id:"whatsapp",type:"tel",value:s.whatsappNumber,onChange:t=>{const n=t.target.value.replace(/\D/g,"");o({...s,whatsappNumber:n})},className:"block w-full pl-14 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"812345678",required:!0,maxLength:13})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter your number without +62 prefix (e.g., 812345678)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Portal Type *"}),e.jsx("div",{className:"space-y-3",children:N.map(t=>{const n=t.icon;return e.jsx("label",{className:"block cursor-pointer p-4 border-2 rounded-lg transition-all ".concat(s.accountType===t.type?"".concat(t.bgColor," border-current"):"bg-white border-gray-200 hover:border-gray-300"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"accountType",value:t.type,checked:s.accountType===t.type,onChange:i=>o({...s,accountType:i.target.value}),className:"sr-only"}),e.jsx(n,{className:"w-6 h-6 ".concat(t.color," mr-3 flex-shrink-0")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:t.title}),e.jsx("div",{className:"text-sm text-gray-600",children:t.description})]}),s.accountType===t.type&&e.jsx(x,{className:"w-5 h-5 ".concat(t.color)})]})},t.type)})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(D,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",type:m?"text":"password",value:s.password,onChange:t=>o({...s,password:t.target.value}),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),e.jsx("button",{type:"button",onClick:()=>P(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:m?e.jsx(F,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):e.jsx(z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Must be at least 8 characters"})]}),e.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{id:"profilePhoto",type:"checkbox",checked:s.profilePhotoAgreed,onChange:t=>o({...s,profilePhotoAgreed:t.target.checked}),className:"mt-1 h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"profilePhoto",className:"ml-3 block text-sm text-gray-900",children:[e.jsx("span",{className:"font-semibold",children:"âš ï¸ Profile Photo Policy:"})," I understand that I must upload a ",e.jsx("span",{className:"font-bold text-red-600",children:"real photo of myself"})," as my profile picture. Uploading any other image (cartoon, logo, celebrity, etc.) will result in ",e.jsx("span",{className:"font-bold text-red-600",children:"immediate account deactivation"}),". *",e.jsx("button",{type:"button",onClick:()=>y(!0),className:"ml-2 text-orange-600 hover:text-orange-700 underline font-medium",children:"Read Full Policy"})]})]})}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{id:"terms",type:"checkbox",checked:s.termsAccepted,onChange:t=>o({...s,termsAccepted:t.target.checked}),className:"mt-1 h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"terms",className:"ml-3 block text-sm text-gray-700",children:["I accept the"," ",e.jsx("button",{type:"button",onClick:()=>a==null?void 0:a("terms"),className:"text-orange-600 hover:text-orange-700 underline font-medium",children:"Terms and Conditions"})," ","and"," ",e.jsx("button",{type:"button",onClick:()=>a==null?void 0:a("privacy"),className:"text-orange-600 hover:text-orange-700 underline font-medium",children:"Privacy Policy"}),"*"]})]}),e.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 px-4 rounded-lg font-semibold text-lg transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105",children:g?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating Account..."]}):e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(x,{className:"w-5 h-5"}),"Create Account"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx("button",{type:"button",onClick:()=>a==null?void 0:a("sign-in"),className:"text-orange-600 hover:text-orange-700 underline font-medium",children:"Sign In"})]})})]})})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] ",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-orange-500 to-red-600 text-white p-6 rounded-t-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"âš ï¸ Profile Photo Policy"}),e.jsx("p",{className:"text-orange-100 mt-1",children:"Important Account Security Notice"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-red-50 border-2 border-red-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸš«"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-red-900 text-lg mb-2",children:"Account Deactivation Policy"}),e.jsxs("p",{className:"text-red-800 font-medium",children:["Your account will be ",e.jsx("span",{className:"font-bold underline",children:"IMMEDIATELY DEACTIVATED"})," if you upload any photo that is NOT a real picture of yourself."]})]})]})}),e.jsxs("div",{className:"bg-green-50 border border-green-300 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-bold text-green-900 text-lg mb-3 flex items-center gap-2",children:[e.jsx(x,{className:"w-6 h-6"})," You MUST Upload:"]}),e.jsxs("ul",{className:"space-y-2 text-green-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:"âœ…"}),e.jsx("span",{children:"A clear, recent photo of your face"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:"âœ…"}),e.jsx("span",{children:"A professional photo showing you clearly"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:"âœ…"}),e.jsx("span",{children:"Your actual appearance for client identification"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:"âœ…"}),e.jsx("span",{children:"Real photo that matches your identity (KTP)"})]})]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-bold text-red-900 text-lg mb-3 flex items-center gap-2",children:[e.jsx(H,{className:"w-6 h-6"})," PROHIBITED - Will Deactivate Account:"]}),e.jsxs("ul",{className:"space-y-2 text-red-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:"âŒ"}),e.jsx("span",{children:"Cartoon or anime images"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:"âŒ"}),e.jsx("span",{children:"Celebrity or famous person photos"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:"âŒ"}),e.jsx("span",{children:"Company logos or brand images"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:"âŒ"}),e.jsx("span",{children:"Stock photos or AI-generated images"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:"âŒ"}),e.jsx("span",{children:"Photos of other people (not you)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:"âŒ"}),e.jsx("span",{children:"Blank images, patterns, or abstract art"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:"âŒ"}),e.jsx("span",{children:"Group photos where you cannot be identified"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-300 rounded-lg p-4",children:[e.jsx("h3",{className:"font-bold text-blue-900 text-lg mb-2",children:"Why This Policy Exists:"}),e.jsxs("ul",{className:"space-y-2 text-blue-800 text-sm",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Client Safety:"})," Clients need to identify you when you arrive"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Trust & Credibility:"})," Real photos build customer confidence"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Legal Compliance:"})," Photo must match government ID (KTP)"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Professional Standards:"})," IndaStreet maintains quality service"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Security:"})," Prevents fraud and impersonation"]})]})]}),e.jsxs("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2",children:"ðŸ” Admin Verification Process:"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Our admin team reviews all profile photos. If your photo does not show your real face clearly, your account will be deactivated immediately. You will receive an email notification explaining the reason."})]}),e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-400 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-900 font-semibold",children:"By checking the Profile Photo Policy checkbox, you confirm that:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-gray-700 text-sm ml-4",children:[e.jsx("li",{children:"âœ“ You will upload your real, personal photo"}),e.jsx("li",{children:"âœ“ The photo clearly shows your face"}),e.jsx("li",{children:"âœ“ You understand account deactivation consequences"}),e.jsx("li",{children:"âœ“ You accept this policy as binding"})]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-white border-t p-4 rounded-b-2xl",children:e.jsx("button",{onClick:()=>y(!1),className:"w-full bg-orange-500 text-white py-3 px-6 rounded-lg font-semibold hover:bg-orange-600 transition-colors",children:"I Understand - Close"})})]})}),e.jsx(V,{isOpen:C,onClose:()=>j(!1),isHome:!0,onNavigate:a,therapists:[],places:[]})]})};export{Q as default};
