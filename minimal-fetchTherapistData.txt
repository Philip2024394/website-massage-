    const fetchTherapistData = useCallback(async () => {
        setIsLoading(true);
        
        try {
            console.log('üìñ Fetching therapist data for ID:', therapistId);
            let existingTherapist = null;
            
            // üéØ PRIORITY 1: Use existingTherapistData from AppRouter (best source)
            if (existingTherapistData) {
                console.log('‚úÖ Using existingTherapistData from AppRouter (live home data)');
                existingTherapist = existingTherapistData;
            } else {
                // üéØ PRIORITY 2: Try direct document lookup by therapistId 
                try {
                    console.log('üîç Trying direct document lookup by ID:', therapistId);
                    existingTherapist = await therapistService.getById(therapistId.toString());
                    if (existingTherapist) {
                        console.log('‚úÖ Found therapist by direct ID lookup:', existingTherapist.name);
                    }
                } catch (directError) {
                    console.log('‚ö†Ô∏è Direct ID lookup failed:', directError);
                }
                
                // üéØ PRIORITY 3: Email lookup fallback (CRITICAL FIX for ID mismatch)
                if (!existingTherapist) {
                    try {
                        console.log('üÜò CRITICAL FIX: No therapist found by ID, forcing email lookup...');
                        const currentUser = await therapistService.getCurrentUser();
                        if (currentUser?.email) {
                            console.log('üìß FORCE: Fetching therapist by authenticated user email:', currentUser.email);
                            const emailTherapists = await therapistService.getByEmail(currentUser.email);
                            if (emailTherapists && emailTherapists.length > 0) {
                                existingTherapist = emailTherapists[0];
                                console.log('‚úÖ CRITICAL SUCCESS: Found therapist by email:', {
                                    name: existingTherapist.name,
                                    id: existingTherapist.$id,
                                    email: existingTherapist.email
                                });
                            }
                        }
                    } catch (criticalError: any) {
                        console.error('‚ùå CRITICAL ERROR in email lookup:', criticalError?.message || criticalError);
                    }
                }
            }

            if (existingTherapist) {
                console.log('‚úÖ Found existing therapist profile:', existingTherapist);
                setTherapist(existingTherapist);
                
                // Set form fields only if currently empty
                if (!name || name === '') {
                    setName(existingTherapist.name || '');
                }
                if (!description || description === '') {
                    setDescription(existingTherapist.description || '');
                }
                if (!profilePicture || profilePicture === '') {
                    setProfilePicture(existingTherapist.profilePicture || '');
                }
                
                setWhatsappNumber(existingTherapist.whatsappNumber || '');
                setLocation(existingTherapist.location || '');
                setYearsOfExperience((existingTherapist as any).yearsOfExperience || 0);
                setMassageTypes(parseMassageTypes(existingTherapist.massageTypes));
                setLanguages(existingTherapist.languages 
                    ? (typeof existingTherapist.languages === 'string' 
                        ? parseLanguages(existingTherapist.languages) 
                        : existingTherapist.languages)
                    : []);
                
                setPricing(parsePricing(existingTherapist.pricing));
                setCoordinates(parseCoordinates(existingTherapist.coordinates));
                setStatus(existingTherapist.status || AvailabilityStatus.Offline);
            } else {
                console.log('üìù No existing profile found, starting with empty form');
                
                // Set default empty values
                setName('');
                setDescription('');
                setProfilePicture('');
                setWhatsappNumber('');
                setYearsOfExperience(0);
                setMassageTypes([]);
                setLanguages([]);
                setPricing({ "60": 0, "90": 0, "120": 0 });
                setLocation('');
                setCoordinates({ lat: 0, lng: 0 });
                setStatus(AvailabilityStatus.Offline);
            }
            
            setDataLoaded(true);
            
        } catch (error) {
            console.error('‚ùå Error fetching therapist data:', error);
            setDataLoaded(true);
        } finally {
            setIsLoading(false);
        }
    }, [therapistId, existingTherapistData]);