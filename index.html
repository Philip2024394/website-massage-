<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no" />
    
    <!-- ÔøΩ PWA MANIFEST: Critical for background notifications -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#f97316" />
    
    <!-- üì± FULL-SCREEN PWA: Hide browser UI completely -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="apple-mobile-web-app-title" content="IndaStreet" />
    <link rel="apple-touch-icon" href="https://ik.imagekit.io/7grri5v7d/Massage%20hub%20indastreet.png" />
    
    <!-- ÔøΩüî• CACHE CONTROL: Prevent stale JavaScript in production -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    
    <!-- Primary Meta Tags -->
    <title>IndaStreet - Pijat Panggilan Bali | Massage Therapist & Spa Terdekat</title>
    <meta name="title" content="IndaStreet - Pijat Panggilan Bali | Massage Therapist & Spa Terdekat" />
    <meta name="description" content="Layanan pijat panggilan terpercaya di Bali. Temukan terapis pijat profesional, spa massage, traditional Balinese massage, aromatherapy, reflexology. Booking mudah 24/7. Harga terjangkau." />
    <meta name="keywords" content="pijat bali, massage bali, pijat panggilan, massage panggilan, terapis pijat, spa bali, balinese massage, traditional massage, pijat tradisional, massage therapist, reflexology, aromatherapy, hot stone massage, deep tissue massage, pijat terdekat, spa terdekat, massage murah, pijat hotel, villa massage, massage kuta, massage seminyak, massage ubud, massage canggu, massage sanur, pijat kesehatan, massage outcall, pijat urut bali, massage therapist bali, spa massage bali murah, pijat tradisional indonesia, jasa pijat bali, panggilan massage bali, pijat refleksi bali, massage home service bali, terapis pijat profesional, pijat aromaterapi bali, massage panggilan murah, spa outcall bali, mobile massage bali, pijat hotel villa, massage delivery bali, #PijatBali, #MassageBali, #SpaBalinese, #PijatPanggilan, #MassageTherapist, #BalineseMassage, #PijatTradisional, #SpaBali, #MassageMurah, #PijatRefleksi, #TerapisPijat, #MassageHomeService, #PijatKesehatan, #SpaOutcall" />
    <meta name="author" content="IndaStreet" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="Indonesian" />
    <meta name="revisit-after" content="7 days" />
    
    <!-- Geo Meta Tags -->
    <meta name="geo.region" content="ID-BA" />
    <meta name="geo.placename" content="Bali, Indonesia" />
    <meta name="geo.position" content="-8.4095;115.1889" />
    <meta name="ICBM" content="-8.4095, 115.1889" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.indastreetmassage.com/" />
    <meta property="og:title" content="IndaStreet - Indonisea's Massage Directory" />
    <meta property="og:description" content="Indonisea's Massage Directory - Book Now Therapist Or Massage Spa Place" />
    <meta property="og:image" content="https://ik.imagekit.io/7grri5v7d/Massage%20hub%20indastreet.png" />
    <meta property="og:locale" content="id_ID" />
    <meta property="og:locale:alternate" content="en_US" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://www.indastreetmassage.com/" />
    <meta property="twitter:title" content="IndaStreet - Indonisea's Massage Directory" />
    <meta property="twitter:description" content="Indonisea's Massage Directory - Book Now Therapist Or Massage Spa Place" />
    <meta property="twitter:image" content="https://ik.imagekit.io/7grri5v7d/Massage%20hub%20indastreet.png" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%23f97316'/><text x='50' y='60' font-family='Arial' font-size='40' fill='white' text-anchor='middle'>I</text></svg>" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#f97316" />
    <!-- Canonical -->
    <link rel="canonical" href="https://www.indastreetmassage.com/" />
    
    <!-- Structured Data - JSON-LD for Local Business -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "IndaStreet",
      "image": "https://www.indastreetmassage.com/logo.png",
      "@id": "https://www.indastreetmassage.com",
      "url": "https://www.indastreetmassage.com",
      "telephone": "+62-813-9200-0050",
      "priceRange": "Rp 250,000 - Rp 500,000",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Bali",
        "addressLocality": "Bali",
        "addressRegion": "Bali",
        "postalCode": "80361",
        "addressCountry": "ID"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": -8.4095,
        "longitude": 115.1889
      },
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": [
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday",
          "Sunday"
        ],
        "opens": "08:00",
        "closes": "23:00"
      },
      "sameAs": [
        "https://www.facebook.com/indastreetmassage",
        "https://www.instagram.com/indastreetmassage"
      ],
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "150"
      },
      "description": "Platform layanan pijat panggilan terpercaya di Bali. Hubungkan dengan terapis pijat profesional untuk traditional Balinese massage, aromatherapy, reflexology, dan berbagai jenis pijat lainnya. Layanan 24/7 dengan harga terjangkau.",
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Massage Services",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Balinese Traditional Massage",
              "description": "Pijat tradisional Bali 60-120 menit"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Aromatherapy Massage",
              "description": "Pijat aromaterapi dengan essential oils"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Deep Tissue Massage",
              "description": "Pijat jaringan dalam untuk otot tegang"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Reflexology",
              "description": "Pijat refleksi kaki dan tangan"
            }
          }
        ]
      }
    }
    </script>
    
    <!-- Structured Data - Website -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "IndaStreet",
      "url": "https://www.indastreetmassage.com",
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://www.indastreetmassage.com/search?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      }
    }
    </script>
    <style>
        /* Hide scrollbar for navigation buttons */
        .overflow-x-auto::-webkit-scrollbar {
            display: none;
        }
        
        /* Smooth fade-in for initial load */
        #root {
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
    </style>
    <!-- 
        ========================================================================
                                  GOOGLE MAPS SETUP
        ========================================================================
        The Google Maps API Key is now managed within the application.
        To enable location features:
        1. Log in to the Admin Dashboard.
        2. Navigate to the "Google Maps API Key" section.
        3. Enter your valid API key and save.
        
        The app will automatically load the Maps API once the key is provided.
        Get a key from the Google Cloud Console: https://console.cloud.google.com/google/maps-apis
        ========================================================================
    -->
    <style>
        /* Hide scrollbar for Chrome, Safari and Opera */
        *::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        * {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="root"></div>
  <!-- Dedicated overlay root for portals (toasts, modals, etc.) -->
  <div id="overlay-root"></div>
    <!-- CACHE BUSTER: 2024-10-31-10:05:00 -->
    <script type="module" src="/index.tsx?v=20241031100500"></script>
    <script>
      // üîá Suppress 401 errors in console (expected when not authenticated)
      (function() {
        const originalError = console.error;
        console.error = function(...args) {
          const message = args.join(' ');
          // Suppress Appwrite 401/501 network errors
          if (
            message.includes('Failed to load resource: the server responded with a status of 401') ||
            message.includes('Failed to load resource: the server responded with a status of 501') ||
            message.includes('syd.cloud.appwrite.io/v1/account')
          ) {
            // Silently ignore these - they're expected when not logged in
            return;
          }
          originalError.apply(console, args);
        };
      })();
      
      // üì± PWA SERVICE WORKER: Disabled on localhost to avoid dev cache issues
      if ('serviceWorker' in navigator) {
        const isLocal = ['localhost', '127.0.0.1'].includes(window.location.hostname);

        if (isLocal) {
          // Proactively unregister any SWs when developing locally
          navigator.serviceWorker.getRegistrations().then((regs) => {
            regs.forEach((reg) => reg.unregister());
            console.log('üßπ Unregistered existing service workers on localhost');
          });
        } else if (window.location.protocol === 'https:') {
          // Only register in production (HTTPS) environments
          window.addEventListener('load', function() {
            navigator.serviceWorker.register('/sw.js')
              .then(function(registration) {
                console.log('‚úÖ PWA Service Worker registered:', registration.scope);

                // Enable install prompt for "Add to Home Screen"
                let deferredPrompt;
                window.addEventListener('beforeinstallprompt', (e) => {
                  e.preventDefault();
                  deferredPrompt = e;
                  console.log('üì± PWA install prompt ready');
                });

                // Auto-show install prompt after 3 seconds if available
                setTimeout(() => {
                  if (deferredPrompt) {
                    deferredPrompt.prompt();
                    deferredPrompt.userChoice.then((choiceResult) => {
                      console.log('PWA install choice:', choiceResult.outcome);
                      deferredPrompt = null;
                    });
                  }
                }, 3000);
              })
              .catch(function(error) {
                console.log('‚ùå PWA Service Worker registration failed:', error);
              });
          });
        }
      }
    </script>
</body>
</html>